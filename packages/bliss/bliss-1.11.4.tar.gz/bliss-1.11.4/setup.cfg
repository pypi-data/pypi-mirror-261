[metadata]
name = bliss
version = 1.11.4
author = BCU (ESRF)
maintainer = bliss developers
maintainer_email = bliss@esrf.fr
description = BeamLine Instrumentation Support Software
long_description = file: README.md
long_description_content_type = text/markdown
license = LGPLv3
url = https://gitlab.esrf.fr/bliss/bliss
project_urls = 
	Documentation = https://bliss.gitlab-pages.esrf.fr/bliss/master
	Source Code = https://gitlab.esrf.fr/bliss/bliss
classifiers = 
	Intended Audience :: Science/Research
	License :: OSI Approved :: GNU Lesser General Public License v3 (LGPLv3)
	Programming Language :: Python :: 3

[options]
packages = find:
python_requires = >=3.8
scripts = 
	bliss/shell/bliss_get_term_bgcolor.sh
install_requires = 
	blissdata >=0.3,<0.4  # pin up to the minor version to allow bug fixes
	appdirs
	beartype
	cerberus
	cffi
	docopt
	fabio >=0.12
	flask >=2.0.1
	gevent >=20.9.0
	greenlet >=0.4.17
	h5py >=2.9,!=3.3,!=3.4, <3.10  # blacklist versions with corrupt deployment, 3.10 is temporarily avoided until we fix https://gitlab.esrf.fr/bliss/bliss/-/issues/3959
	hdf5plugin
	hiredis
	louie >=2.0
	matplotlib >=3.4.2
	mendeleev
	mock
	msgpack-numpy >=0.4.4.2
	msgpack
	networkx >2.4
	numexpr
	numpy >=1.13
	pandas
	pillow
	pint
	psutil
	ptpython >=3.0.20, <3.0.24
	pygments
	pyicat-plus >=0.1.0
	pyqt5 >=5.12
	pyserial >2
	redis ==3.5.1
	requests
	ruamel.yaml
	scipy
	silx >=1.1.2,==1.1.*
	simple-pid
	sortedcontainers
	tabulate
	tblib >=1.7
	tqdm
	treelib <=1.5.5
	typing_extensions
	xcalibu == 1.0.0
	yappi
	pymca >=5.8.1

[options.package_data]
bliss.controllers.regulation.temperature.eurotherm = *.txt
bliss.config.redis = *.conf
bliss.config.plugins = *.html
bliss.config.conductor.web.configuration = static/**, templates/**
bliss.config.conductor.web.homepage = static/**, templates/**
bliss.shell.web = *.html, css/*.css, js/*.js
bliss.config = tmux.conf
bliss.flint.resources = 
	logo/*.png
	logo/*.svg
	icons/*.png
	icons/*.svg
	icons/*.mng
	icons/*.gif
	icons/*/*.png
	gui/*.ui
bliss.shell.qtapp.resources = logo/*.svg, ui/*.ui
bliss.icat = hdf5_cfg.xml
bliss.controller.demo = *.h5, *.npy, *.edf.gz
bliss.controllers.speedgoat = *.bat, *.dll, *.h
bliss.tango.servers = *.xmi, ct2_ds/*.xmi

[options.entry_points]
console_scripts = 
	bliss = bliss.shell.main:main
	bliss-emulator = bliss.controllers.emulator:main
	beacon-server = bliss.config.conductor.server:main
	beacon-server-list = bliss.config.beacon_server_list:main
	BlissBrother = bliss.tango.servers.bliss_brother_ds:main
	bliss-ct2-server = bliss.controllers.ct2.server:main
	bliss-flex-server = bliss.controllers.correlator.flex.server:main
	bliss-handel-server = bliss.controllers.mca.handel.server:main
	bliss-speedgoat-server = bliss.controllers.speedgoat.server:main
	bliss-service = bliss.comm.service:main
	flint = bliss.flint.flint:main
	CT2 = bliss.tango.servers.ct2_ds:main
	BlissAxisManager =  bliss.tango.servers.axis_ds:main
	BlissTempManager = bliss.tango.servers.temp_ds:main
	Musst = bliss.tango.servers.musst_ds:main
	FuelCell = bliss.tango.servers.fuelcell_ds:main
	Gpib = bliss.tango.servers.gpib_ds:main
	Keithley428 = bliss.tango.servers.keithley428_ds:main
	Multimeter = bliss.tango.servers.keithley_ds:main
	Multiplexer = bliss.tango.servers.multiplexer_ds:main
	LinkamDsc = bliss.tango.servers.linkamdsc_ds:main
	NanoBpm = bliss.tango.servers.nanobpm_ds:main
	NanoBpmServo = bliss.tango.servers.nanobpm_servo_ds:main
	Wago = bliss.tango.servers.wago_ds:main
	MCCE = bliss.tango.servers.mcce_ds:main
	NexusWriterService = nexus_writer_service.app.service:main
	NexusSessionWriter = nexus_writer_service.app.process:main
	RegisterNexusWriter = nexus_writer_service.app.register_service:main
	Regulation = bliss.tango.servers.regulation_ds:main
	BlissMotorController = bliss.tango.servers.motor_controller_ds:main
	BlissTangoServer = bliss.tango.servers.bliss_ds:main
	tcp-proxy = bliss.comm.tcp_proxy:main

[options.extras_require]
dev = 
	black ==22.3  # lint
	flake8  # lint
	pre-commit
	pytest-cov
	pytest-mock
	pytest-profiling
	pytest-rerunfailures
	pytest-xvfb
	pytest
	scriv >=1.3.1
doc = 
	markdown >=3.2, <3.4
	mike
	mkdocs-graphviz
	mkdocs-material >=8.2.11
	mkdocs-material-extensions >=1.0.3  # 1.0.(1|2) is buggy
	sphinx

[options.packages.find]
exclude = 
	tests*
	extensions*

[tool:pytest]
addopts = -v --ignore=tests/images --ignore=tests/test_configuration --ignore=tests/controllers_hw --ignore=tests/emulators
filterwarnings = 
	ignore::DeprecationWarning
	ignore::PendingDeprecationWarning

[aliases]
test = pytest

[flake8]
ignore = E501,W503,E203,W504,E251,E262,E265,E266,W291,W293
max-line-length = 115

[pycodestyle]
max-line-length = 115

[egg_info]
tag_build = 
tag_date = 0

