{% load i18n easy_thumbnails_tags cms_tags %}

<div class="post-detail">
  {% if post.author %}
    <span>{% trans "by" %} <a href="{% url 'djangocms_blog:posts-author' post.author.get_username %}">{% if post.author.get_full_name %}{{ post.author.get_full_name }}{% else %}{{ post.author }}{% endif %}</a></span>
  {% endif %}

  {% if post.date_featured %}
    <div itemprop="datePublished"> {% trans "on" %} {{ post.date_featured|date:"DATE_FORMAT" }}</div>
  {% else %}
    {% if post.date_published %}
      <span itemprop="datePublished"> {% trans "on" %} {{ post.date_published|date:"DATE_FORMAT" }}</span>
    {% endif %}
    {% if post.date_modified %}
      <div itemprop="dateModified">{% trans "Modified on" %} {{ post.date_modified|date:"DATE_FORMAT" }}</div>
    {% endif %}
  {% endif %}
</div>
<ul class="post-detail tags">
  {% if post.categories.exists %}
    {% for category in post.categories.all %}
      {% if category.slug %}
        <li class="category_{{ forloop.counter }}"><a href="{% url 'djangocms_blog:posts-category' category=category.slug %}" class="blog-categories-{{ category.count }}">{{ category.name }}</a>{% if not forloop.last %}, {% endif %}</li>
      {% endif %}
    {% endfor %}
  {% endif %}
  {% if post.tags.exists %}
    {% for tag in post.tags.all %}
      <li class="tag_{{ forloop.counter }}"><a href="{% url 'djangocms_blog:posts-tagged' tag=tag.slug %}" class="blog-tag blog-tag-{{ tag.count }}">{{ tag.name }}</a>{% if not forloop.last %}, {% endif %}</li>
    {% endfor %}
  {% endif %}
</ul>
