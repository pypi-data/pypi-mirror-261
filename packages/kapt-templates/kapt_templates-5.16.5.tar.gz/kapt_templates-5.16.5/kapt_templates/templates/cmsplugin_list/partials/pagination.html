{% if activities.paginator.num_pages > 1 %}
  <ul class="pagination">
    {% if activities.has_previous %}
      <li class="page-item"><a href="{{ path }}page={{ activities.previous_page_number }}" class="page-link previous" rel="prev">&lt;</a></li>
    {% endif %}

    {% for number in activities.paginator.page_range %}
      {% if number == activities.number %}
        <li class="page-item active"><a href="{{ path }}page={{ number }}" class="page-link">{{ activities.number }}<span class="sr-only">(current)</span></a></li>
      {% else %}
        {% if forloop.first %}
          <li class="page-item"><a href="{{ path }}page={{ number }}" class="page-link">{{ number }}</a></li>
          {% if activities.number > 3 %}
            <li class="page-item"><a href="#" tabdindex="-1" class="page-link">...</a></li>
          {% endif %}
        {% elif forloop.last %}
          {% if activities.number < activities.paginator.num_pages|add:"-2" %}
            <li class="page-item"><a href="#" tabdindex="-1" class="page-link">...</a></li>
          {% endif %}
          <li class="page-item"><a href="{{ path }}page={{ number }}" class="page-link">{{ number }}</a></li>
        {% else %}
          {% if number == activities.previous_page_number or number == activities.next_page_number %}
            <li class="page-item"><a href="{{ path }}page={{ number }}" class="page-link">{{ number }}</a></li>
          {% endif %}
        {% endif %}
      {% endif %}
    {% endfor %}

    {% if activities.has_next %}
      <li class="page-item"><a href="{{ path }}page={{ activities.next_page_number }}" class="page-link next" rel="next">&gt;</a></li>
    {% endif %}
  </ul>
{% endif %}
