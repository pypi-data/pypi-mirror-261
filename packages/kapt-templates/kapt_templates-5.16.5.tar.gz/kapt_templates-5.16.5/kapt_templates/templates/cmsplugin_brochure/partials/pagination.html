<ul class="pagination">
  {% if brochures.has_previous %}
    <li class="page-item"><a href="{{ path }}page={{ brochures.previous_page_number }}" class="page-link previous" rel="prev">&lt;</a></li>
  {% endif %}

  {% for number in brochures.paginator.page_range %}
    {% if number == brochures.number %}
      <li class="page-item active"><a href="{{ path }}page={{ number }}" class="page-link">{{ brochures.number }}<span class="sr-only">(current)</span></a></li>
    {% else %}
      {% if forloop.first %}
        <li class="page-item"><a href="{{ path }}page={{ number }}" class="page-link">{{ number }}</a></li>
        {% if brochures.number > 3 %}
          <li class="page-item"><a href="#" tabdindex="-1" class="page-link">...</a></li>
        {% endif %}
      {% elif forloop.last %}
        {% if brochures.number < brochures.paginator.num_pages|add:"-2" %}
          <li class="page-item"><a href="#" tabdindex="-1" class="page-link">...</a></li>
        {% endif %}
        <li class="page-item"><a href="{{ path }}page={{ number }}" class="page-link">{{ number }}</a></li>
      {% else %}
        {% if number == brochures.previous_page_number or number == brochures.next_page_number %}
          <li class="page-item"><a href="{{ path }}page={{ number }}" class="page-link">{{ number }}</a></li>
        {% endif %}
      {% endif %}
    {% endif %}
  {% endfor %}

  {% if brochures.has_next %}
    <li class="page-item"><a href="{{ path }}page={{ brochures.next_page_number }}" class="page-link next" rel="next">&gt;</a></li>
  {% endif %}
</ul>
