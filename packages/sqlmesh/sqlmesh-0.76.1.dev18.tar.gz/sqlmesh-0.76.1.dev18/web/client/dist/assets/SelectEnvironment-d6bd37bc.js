import{r as l,R as $,j as n,v as ie,J as ye,c as P,V as tt,a as L,e as Ie,F as ue,w as rt,I as nt,B as de,h as re,k as ne,u as at,W as st,i as Re,X as it,Y as ot,A as lt}from"./index-71398e80.js";import{L as ct}from"./context-c9a4c85e.js";import ut from"./ModelLineage-9a36c7db.js";import{P as dt}from"./PlusIcon-199e142b.js";import{g as K,A as Ce,D as B,o as b,I as Q,y as z,X as G,S as Ee,m as mt,B as pt,u as fe,i as ae,p as xe,z as ft,n as xt,C as vt,F as gt,T as ht,r as h,v as me,h as pe,_ as bt,M as H,G as Me,H as De,O as je,N as Pe,c as wt,b as yt,R as Rt,J as Et,K as jt,x as Pt}from"./transition-7cc1de49.js";import{b as Nt,u as kt,a as F,x as It,T as Ct,p as Mt,e as Dt}from"./ListboxShow-097350f3.js";import{v as J,M as Te,P as $e}from"./disclosure-1c14d4dc.js";import{I as Ne}from"./Input-0c327896.js";import{C as Tt}from"./ChevronDownIcon-638748ac.js";function $t({title:e,titleId:t,...r},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},r),e?l.createElement("title",{id:t},e):null,l.createElement("path",{fillRule:"evenodd",d:"M12 5.25c1.213 0 2.415.046 3.605.135a3.256 3.256 0 013.01 3.01c.044.583.077 1.17.1 1.759L17.03 8.47a.75.75 0 10-1.06 1.06l3 3a.75.75 0 001.06 0l3-3a.75.75 0 00-1.06-1.06l-1.752 1.751c-.023-.65-.06-1.296-.108-1.939a4.756 4.756 0 00-4.392-4.392 49.422 49.422 0 00-7.436 0A4.756 4.756 0 003.89 8.282c-.017.224-.033.447-.046.672a.75.75 0 101.497.092c.013-.217.028-.434.044-.651a3.256 3.256 0 013.01-3.01c1.19-.09 2.392-.135 3.605-.135zm-6.97 6.22a.75.75 0 00-1.06 0l-3 3a.75.75 0 101.06 1.06l1.752-1.751c.023.65.06 1.296.108 1.939a4.756 4.756 0 004.392 4.392 49.413 49.413 0 007.436 0 4.756 4.756 0 004.392-4.392c.017-.223.032-.447.046-.672a.75.75 0 00-1.497-.092c-.013.217-.028.434-.044.651a3.256 3.256 0 01-3.01 3.01 47.953 47.953 0 01-7.21 0 3.256 3.256 0 01-3.01-3.01 47.759 47.759 0 01-.1-1.759L6.97 15.53a.75.75 0 001.06-1.06l-3-3z",clipRule:"evenodd"}))}const Ot=l.forwardRef($t),Oe=Ot;function St({title:e,titleId:t,...r},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},r),e?l.createElement("title",{id:t},e):null,l.createElement("path",{fillRule:"evenodd",d:"M3.75 12a.75.75 0 01.75-.75h15a.75.75 0 010 1.5h-15a.75.75 0 01-.75-.75z",clipRule:"evenodd"}))}const Ft=l.forwardRef(St),At=Ft;function _t({title:e,titleId:t,...r},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},r),e?l.createElement("title",{id:t},e):null,l.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"}))}const Lt=l.forwardRef(_t),Bt=Lt;function zt({title:e,titleId:t,...r},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},r),e?l.createElement("title",{id:t},e):null,l.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM6.75 9.25a.75.75 0 000 1.5h6.5a.75.75 0 000-1.5h-6.5z",clipRule:"evenodd"}))}const Gt=l.forwardRef(zt),Ut=Gt;function Vt({title:e,titleId:t,...r},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:a,"aria-labelledby":t},r),e?l.createElement("title",{id:t},e):null,l.createElement("path",{fillRule:"evenodd",d:"M10.868 2.884c-.321-.772-1.415-.772-1.736 0l-1.83 4.401-4.753.381c-.833.067-1.171 1.107-.536 1.651l3.62 3.102-1.106 4.637c-.194.813.691 1.456 1.405 1.02L10 15.591l4.069 2.485c.713.436 1.598-.207 1.404-1.02l-1.106-4.637 3.62-3.102c.635-.544.297-1.584-.536-1.65l-4.752-.382-1.831-4.401z",clipRule:"evenodd"}))}const Wt=l.forwardRef(Vt),Kt=Wt;function Se({container:e,accept:t,walk:r,enabled:a=!0}){let c=l.useRef(t),i=l.useRef(r);l.useEffect(()=>{c.current=t,i.current=r},[t,r]),K(()=>{if(!e||!a)return;let o=Ce(e);if(!o)return;let s=c.current,d=i.current,x=Object.assign(y=>s(y),{acceptNode:s}),v=o.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,x,!1);for(;v.nextNode();)d(v.currentNode)},[e,a,c,i])}let Fe=l.createContext(null);function Ae(){let e=l.useContext(Fe);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,Ae),t}return e}function _e(){let[e,t]=l.useState([]);return[e.length>0?e.join(" "):void 0,l.useMemo(()=>function(r){let a=b(i=>(t(o=>[...o,i]),()=>t(o=>{let s=o.slice(),d=s.indexOf(i);return d!==-1&&s.splice(d,1),s}))),c=l.useMemo(()=>({register:a,slot:r.slot,name:r.name,props:r.props}),[a,r.slot,r.name,r.props]);return $.createElement(Fe.Provider,{value:c},r.children)},[t])]}let Qt="p";function Ht(e,t){let r=Q(),{id:a=`headlessui-description-${r}`,...c}=e,i=Ae(),o=z(t);K(()=>i.register(a),[a,i.register]);let s={ref:o,...i.props,id:a};return G({ourProps:s,theirProps:c,slot:i.slot||{},defaultTag:Qt,name:i.name||"Description"})}let Jt=B(Ht),qt=Object.assign(Jt,{});var Yt=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Yt||{}),Xt=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Xt||{}),Zt=(e=>(e[e.OpenMenu=0]="OpenMenu",e[e.CloseMenu=1]="CloseMenu",e[e.GoToItem=2]="GoToItem",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterItem=5]="RegisterItem",e[e.UnregisterItem=6]="UnregisterItem",e))(Zt||{});function ce(e,t=r=>r){let r=e.activeItemIndex!==null?e.items[e.activeItemIndex]:null,a=De(t(e.items.slice()),i=>i.dataRef.current.domRef.current),c=r?a.indexOf(r):null;return c===-1&&(c=null),{items:a,activeItemIndex:c}}let er={1(e){return e.menuState===1?e:{...e,activeItemIndex:null,menuState:1}},0(e){return e.menuState===0?e:{...e,__demoMode:!1,menuState:0}},2:(e,t)=>{var r;let a=ce(e),c=It(t,{resolveItems:()=>a.items,resolveActiveIndex:()=>a.activeItemIndex,resolveId:i=>i.id,resolveDisabled:i=>i.dataRef.current.disabled});return{...e,...a,searchQuery:"",activeItemIndex:c,activationTrigger:(r=t.trigger)!=null?r:1}},3:(e,t)=>{let r=e.searchQuery!==""?0:1,a=e.searchQuery+t.value.toLowerCase(),c=(e.activeItemIndex!==null?e.items.slice(e.activeItemIndex+r).concat(e.items.slice(0,e.activeItemIndex+r)):e.items).find(o=>{var s;return((s=o.dataRef.current.textValue)==null?void 0:s.startsWith(a))&&!o.dataRef.current.disabled}),i=c?e.items.indexOf(c):-1;return i===-1||i===e.activeItemIndex?{...e,searchQuery:a}:{...e,searchQuery:a,activeItemIndex:i,activationTrigger:1}},4(e){return e.searchQuery===""?e:{...e,searchQuery:"",searchActiveItemIndex:null}},5:(e,t)=>{let r=ce(e,a=>[...a,{id:t.id,dataRef:t.dataRef}]);return{...e,...r}},6:(e,t)=>{let r=ce(e,a=>{let c=a.findIndex(i=>i.id===t.id);return c!==-1&&a.splice(c,1),a});return{...e,...r,activationTrigger:1}}},ve=l.createContext(null);ve.displayName="MenuContext";function oe(e){let t=l.useContext(ve);if(t===null){let r=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,oe),r}return t}function tr(e,t){return fe(t.type,er,e,t)}let rr=l.Fragment;function nr(e,t){let{__demoMode:r=!1,...a}=e,c=l.useReducer(tr,{__demoMode:r,menuState:r?0:1,buttonRef:l.createRef(),itemsRef:l.createRef(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:i,itemsRef:o,buttonRef:s},d]=c,x=z(t);mt([s,o],(R,p)=>{var u;d({type:1}),gt(p,ht.Loose)||(R.preventDefault(),(u=s.current)==null||u.focus())},i===0);let v=b(()=>{d({type:1})}),y=l.useMemo(()=>({open:i===0,close:v}),[i,v]),g={ref:x};return $.createElement(ve.Provider,{value:c},$.createElement(pt,{value:fe(i,{0:ae.Open,1:ae.Closed})},G({ourProps:g,theirProps:a,slot:y,defaultTag:rr,name:"Menu"})))}let ar="button";function sr(e,t){var r;let a=Q(),{id:c=`headlessui-menu-button-${a}`,...i}=e,[o,s]=oe("Menu.Button"),d=z(o.buttonRef,t),x=xe(),v=b(u=>{switch(u.key){case h.Space:case h.Enter:case h.ArrowDown:u.preventDefault(),u.stopPropagation(),s({type:0}),x.nextFrame(()=>s({type:2,focus:F.First}));break;case h.ArrowUp:u.preventDefault(),u.stopPropagation(),s({type:0}),x.nextFrame(()=>s({type:2,focus:F.Last}));break}}),y=b(u=>{switch(u.key){case h.Space:u.preventDefault();break}}),g=b(u=>{if(me(u.currentTarget))return u.preventDefault();e.disabled||(o.menuState===0?(s({type:1}),x.nextFrame(()=>{var E;return(E=o.buttonRef.current)==null?void 0:E.focus({preventScroll:!0})})):(u.preventDefault(),s({type:0})))}),R=l.useMemo(()=>({open:o.menuState===0}),[o]),p={ref:d,id:c,type:ft(e,o.buttonRef),"aria-haspopup":"menu","aria-controls":(r=o.itemsRef.current)==null?void 0:r.id,"aria-expanded":o.menuState===0,onKeyDown:v,onKeyUp:y,onClick:g};return G({ourProps:p,theirProps:i,slot:R,defaultTag:ar,name:"Menu.Button"})}let ir="div",or=Ee.RenderStrategy|Ee.Static;function lr(e,t){var r,a;let c=Q(),{id:i=`headlessui-menu-items-${c}`,...o}=e,[s,d]=oe("Menu.Items"),x=z(s.itemsRef,t),v=xt(s.itemsRef),y=xe(),g=vt(),R=(()=>g!==null?(g&ae.Open)===ae.Open:s.menuState===0)();l.useEffect(()=>{let m=s.itemsRef.current;m&&s.menuState===0&&m!==(v==null?void 0:v.activeElement)&&m.focus({preventScroll:!0})},[s.menuState,s.itemsRef,v]),Se({container:s.itemsRef.current,enabled:s.menuState===0,accept(m){return m.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:m.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(m){m.setAttribute("role","none")}});let p=b(m=>{var T,O;switch(y.dispose(),m.key){case h.Space:if(s.searchQuery!=="")return m.preventDefault(),m.stopPropagation(),d({type:3,value:m.key});case h.Enter:if(m.preventDefault(),m.stopPropagation(),d({type:1}),s.activeItemIndex!==null){let{dataRef:w}=s.items[s.activeItemIndex];(O=(T=w.current)==null?void 0:T.domRef.current)==null||O.click()}Me(s.buttonRef.current);break;case h.ArrowDown:return m.preventDefault(),m.stopPropagation(),d({type:2,focus:F.Next});case h.ArrowUp:return m.preventDefault(),m.stopPropagation(),d({type:2,focus:F.Previous});case h.Home:case h.PageUp:return m.preventDefault(),m.stopPropagation(),d({type:2,focus:F.First});case h.End:case h.PageDown:return m.preventDefault(),m.stopPropagation(),d({type:2,focus:F.Last});case h.Escape:m.preventDefault(),m.stopPropagation(),d({type:1}),pe().nextFrame(()=>{var w;return(w=s.buttonRef.current)==null?void 0:w.focus({preventScroll:!0})});break;case h.Tab:m.preventDefault(),m.stopPropagation(),d({type:1}),pe().nextFrame(()=>{bt(s.buttonRef.current,m.shiftKey?H.Previous:H.Next)});break;default:m.key.length===1&&(d({type:3,value:m.key}),y.setTimeout(()=>d({type:4}),350));break}}),u=b(m=>{switch(m.key){case h.Space:m.preventDefault();break}}),E=l.useMemo(()=>({open:s.menuState===0}),[s]),I={"aria-activedescendant":s.activeItemIndex===null||(r=s.items[s.activeItemIndex])==null?void 0:r.id,"aria-labelledby":(a=s.buttonRef.current)==null?void 0:a.id,id:i,onKeyDown:p,onKeyUp:u,role:"menu",tabIndex:0,ref:x};return G({ourProps:I,theirProps:o,slot:E,defaultTag:ir,features:or,visible:R,name:"Menu.Items"})}let cr=l.Fragment;function ur(e,t){let r=Q(),{id:a=`headlessui-menu-item-${r}`,disabled:c=!1,...i}=e,[o,s]=oe("Menu.Item"),d=o.activeItemIndex!==null?o.items[o.activeItemIndex].id===a:!1,x=l.useRef(null),v=z(t,x);K(()=>{if(o.__demoMode||o.menuState!==0||!d||o.activationTrigger===0)return;let w=pe();return w.requestAnimationFrame(()=>{var N,U;(U=(N=x.current)==null?void 0:N.scrollIntoView)==null||U.call(N,{block:"nearest"})}),w.dispose},[o.__demoMode,x,d,o.menuState,o.activationTrigger,o.activeItemIndex]);let y=Nt(x),g=l.useRef({disabled:c,domRef:x,get textValue(){return y()}});K(()=>{g.current.disabled=c},[g,c]),K(()=>(s({type:5,id:a,dataRef:g}),()=>s({type:6,id:a})),[g,a]);let R=b(()=>{s({type:1})}),p=b(w=>{if(c)return w.preventDefault();s({type:1}),Me(o.buttonRef.current)}),u=b(()=>{if(c)return s({type:2,focus:F.Nothing});s({type:2,focus:F.Specific,id:a})}),E=kt(),I=b(w=>E.update(w)),m=b(w=>{E.wasMoved(w)&&(c||d||s({type:2,focus:F.Specific,id:a,trigger:0}))}),T=b(w=>{E.wasMoved(w)&&(c||d&&s({type:2,focus:F.Nothing}))}),O=l.useMemo(()=>({active:d,disabled:c,close:R}),[d,c,R]);return G({ourProps:{id:a,ref:v,role:"menuitem",tabIndex:c===!0?void 0:-1,"aria-disabled":c===!0?!0:void 0,disabled:void 0,onClick:p,onFocus:u,onPointerEnter:I,onMouseEnter:I,onPointerMove:m,onMouseMove:m,onPointerLeave:T,onMouseLeave:T},theirProps:i,slot:O,defaultTag:cr,name:"Menu.Item"})}let dr=B(nr),mr=B(sr),pr=B(lr),fr=B(ur),ee=Object.assign(dr,{Button:mr,Items:pr,Item:fr}),Le=l.createContext(null);function Be(){let e=l.useContext(Le);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,Be),t}return e}function ze(){let[e,t]=l.useState([]);return[e.length>0?e.join(" "):void 0,l.useMemo(()=>function(r){let a=b(i=>(t(o=>[...o,i]),()=>t(o=>{let s=o.slice(),d=s.indexOf(i);return d!==-1&&s.splice(d,1),s}))),c=l.useMemo(()=>({register:a,slot:r.slot,name:r.name,props:r.props}),[a,r.slot,r.name,r.props]);return $.createElement(Le.Provider,{value:c},r.children)},[t])]}let xr="label";function vr(e,t){let r=Q(),{id:a=`headlessui-label-${r}`,passive:c=!1,...i}=e,o=Be(),s=z(t);K(()=>o.register(a),[a,o.register]);let d={ref:s,...o.props,id:a};return c&&("onClick"in d&&(delete d.htmlFor,delete d.onClick),"onClick"in i&&delete i.onClick),G({ourProps:d,theirProps:i,slot:o.slot||{},defaultTag:xr,name:o.name||"Label"})}let gr=B(vr),hr=Object.assign(gr,{});var br=(e=>(e[e.RegisterOption=0]="RegisterOption",e[e.UnregisterOption=1]="UnregisterOption",e))(br||{});let wr={0(e,t){let r=[...e.options,{id:t.id,element:t.element,propsRef:t.propsRef}];return{...e,options:De(r,a=>a.element.current)}},1(e,t){let r=e.options.slice(),a=e.options.findIndex(c=>c.id===t.id);return a===-1?e:(r.splice(a,1),{...e,options:r})}},ge=l.createContext(null);ge.displayName="RadioGroupDataContext";function Ge(e){let t=l.useContext(ge);if(t===null){let r=new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Ge),r}return t}let he=l.createContext(null);he.displayName="RadioGroupActionsContext";function Ue(e){let t=l.useContext(he);if(t===null){let r=new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Ue),r}return t}function yr(e,t){return fe(t.type,wr,e,t)}let Rr="div";function Er(e,t){let r=Q(),{id:a=`headlessui-radiogroup-${r}`,value:c,defaultValue:i,form:o,name:s,onChange:d,by:x=(f,M)=>f===M,disabled:v=!1,...y}=e,g=b(typeof x=="string"?(f,M)=>{let C=x;return(f==null?void 0:f[C])===(M==null?void 0:M[C])}:x),[R,p]=l.useReducer(yr,{options:[]}),u=R.options,[E,I]=ze(),[m,T]=_e(),O=l.useRef(null),w=z(O,t),[N,U]=Ct(c,d,i),S=l.useMemo(()=>u.find(f=>!f.propsRef.current.disabled),[u]),V=l.useMemo(()=>u.some(f=>g(f.propsRef.current.value,N)),[u,N]),A=b(f=>{var M;if(v||g(f,N))return!1;let C=(M=u.find(W=>g(W.propsRef.current.value,f)))==null?void 0:M.propsRef.current;return C!=null&&C.disabled?!1:(U==null||U(f),!0)});Se({container:O.current,accept(f){return f.getAttribute("role")==="radio"?NodeFilter.FILTER_REJECT:f.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(f){f.setAttribute("role","none")}});let le=b(f=>{let M=O.current;if(!M)return;let C=Ce(M),W=u.filter(k=>k.propsRef.current.disabled===!1).map(k=>k.element.current);switch(f.key){case h.Enter:Mt(f.currentTarget);break;case h.ArrowLeft:case h.ArrowUp:if(f.preventDefault(),f.stopPropagation(),je(W,H.Previous|H.WrapAround)===Pe.Success){let k=u.find(q=>q.element.current===(C==null?void 0:C.activeElement));k&&A(k.propsRef.current.value)}break;case h.ArrowRight:case h.ArrowDown:if(f.preventDefault(),f.stopPropagation(),je(W,H.Next|H.WrapAround)===Pe.Success){let k=u.find(q=>q.element.current===(C==null?void 0:C.activeElement));k&&A(k.propsRef.current.value)}break;case h.Space:{f.preventDefault(),f.stopPropagation();let k=u.find(q=>q.element.current===(C==null?void 0:C.activeElement));k&&A(k.propsRef.current.value)}break}}),_=b(f=>(p({type:0,...f}),()=>p({type:1,id:f.id}))),X=l.useMemo(()=>({value:N,firstOption:S,containsCheckedOption:V,disabled:v,compare:g,...R}),[N,S,V,v,g,R]),Ye=l.useMemo(()=>({registerOption:_,change:A}),[_,A]),Xe={ref:w,id:a,role:"radiogroup","aria-labelledby":E,"aria-describedby":m,onKeyDown:le},Ze=l.useMemo(()=>({value:N}),[N]),Z=l.useRef(null),et=xe();return l.useEffect(()=>{Z.current&&i!==void 0&&et.addEventListener(Z.current,"reset",()=>{A(i)})},[Z,A]),$.createElement(T,{name:"RadioGroup.Description"},$.createElement(I,{name:"RadioGroup.Label"},$.createElement(he.Provider,{value:Ye},$.createElement(ge.Provider,{value:X},s!=null&&N!=null&&Dt({[s]:N}).map(([f,M],C)=>$.createElement(wt,{features:yt.Hidden,ref:C===0?W=>{var k;Z.current=(k=W==null?void 0:W.closest("form"))!=null?k:null}:void 0,...Rt({key:f,as:"input",type:"radio",checked:M!=null,hidden:!0,readOnly:!0,form:o,name:f,value:M})})),G({ourProps:Xe,theirProps:y,slot:Ze,defaultTag:Rr,name:"RadioGroup"})))))}var jr=(e=>(e[e.Empty=1]="Empty",e[e.Active=2]="Active",e))(jr||{});let Pr="div";function Nr(e,t){var r;let a=Q(),{id:c=`headlessui-radiogroup-option-${a}`,value:i,disabled:o=!1,...s}=e,d=l.useRef(null),x=z(d,t),[v,y]=ze(),[g,R]=_e(),{addFlag:p,removeFlag:u,hasFlag:E}=Et(1),I=jt({value:i,disabled:o}),m=Ge("RadioGroup.Option"),T=Ue("RadioGroup.Option");K(()=>T.registerOption({id:c,element:d,propsRef:I}),[c,T,d,e]);let O=b(_=>{var X;if(me(_.currentTarget))return _.preventDefault();T.change(i)&&(p(2),(X=d.current)==null||X.focus())}),w=b(_=>{if(me(_.currentTarget))return _.preventDefault();p(2)}),N=b(()=>u(2)),U=((r=m.firstOption)==null?void 0:r.id)===c,S=m.disabled||o,V=m.compare(m.value,i),A={ref:x,id:c,role:"radio","aria-checked":V?"true":"false","aria-labelledby":v,"aria-describedby":g,"aria-disabled":S?!0:void 0,tabIndex:(()=>S?-1:V||!m.containsCheckedOption&&U?0:-1)(),onClick:S?void 0:O,onFocus:S?void 0:w,onBlur:S?void 0:N},le=l.useMemo(()=>({checked:V,disabled:S,active:E(2)}),[V,S,E]);return $.createElement(R,{name:"RadioGroup.Description"},$.createElement(y,{name:"RadioGroup.Label"},G({ourProps:A,theirProps:s,slot:le,defaultTag:Pr,name:"RadioGroup.Option"})))}let kr=B(Er),Ir=B(Nr),te=Object.assign(kr,{Option:Ir,Label:hr,Description:qt});const D={ResetPlanOptions:"reset-plan-options",ResetPlanDates:"reset-plan-dates",PlanOptions:"plan-options",Dates:"dates",DateStart:"date-start",DateEnd:"date-end",Category:"category",External:"external",ResetTestsReport:"reset-tests-report",TestsReportErrors:"tests-report-errors",TestsReportMessages:"tests-report-messages"},j={Add:"add",Remove:"remove",Direct:"direct",Indirect:"indirect",Metadata:"metadata",Default:"default"},ke={BreakingChange:"breaking-change",NonBreakingChange:"non-breaking-change"},[Cr,Mr]=$r(),Ve={skip_tests:!1,no_gaps:!1,skip_backfill:!1,forward_only:!1,auto_apply:!1,no_auto_categorization:!1,include_unmodified:!0,restate_models:void 0,create_from:"prod"},We={start:void 0,end:void 0},be={...We,...Ve,categories:Mr,defaultCategory:Cr,change_categorization:new Map,virtualUpdateDescription:"All changes and their downstream dependencies can be fully previewed before they get promoted. If during plan creation no data gaps have been detected and only references to new model versions need to be updated, then such an update is referred to as a Virtual Update. Virtual Updates impose no additional runtime overhead or cost.",isInitialPlanRun:!1,errors:[],testsReportErrors:void 0,testsReportMessages:void 0},Ke=l.createContext(be),Qe=l.createContext(()=>{});function Hr({children:e}){const[t,r]=l.useReducer(Dr,Object.assign(be));return n.jsx(Ke.Provider,{value:Object.assign(t),children:n.jsx(Qe.Provider,{value:r,children:e})})}function we(){return l.useContext(Ke)}function He(){return l.useContext(Qe)}function Dr(e,t){return t=Array.isArray(t)?t:[t],t.reduce(Tr,e)}function Tr(e=be,{type:t,...r}){switch(t){case D.ResetPlanDates:return Object.assign({},e,We);case D.ResetPlanOptions:return Object.assign({},e,Ve);case D.ResetTestsReport:return Object.assign({},e,{testsReportErrors:void 0,testsReportMessages:void 0});case D.PlanOptions:return Object.assign({},e,r);case D.Dates:return Object.assign({},e,{start:r.start,end:r.end});case D.External:return Object.assign({},e,{isInitialPlanRun:r.isInitialPlanRun??!1});case D.DateStart:return Object.assign({},e,{start:r.start});case D.DateEnd:return Object.assign({},e,{end:r.end});case D.TestsReportErrors:return Object.assign({},e,{testsReportErrors:r.testsReportErrors});case D.TestsReportMessages:return Object.assign({},e,{testsReportMessages:r.testsReportMessages});case D.Category:{const{change:a,category:c}=r;return ie(a==null?void 0:a.name)&&e.change_categorization.set(a.name,{category:c,change:a}),Object.assign({},e,{change_categorization:new Map(e.change_categorization)})}default:return Object.assign({},e)}}function $r(){const e={id:ke.BreakingChange,name:"Breaking Change",description:"It will rebuild all models",value:ye.NUMBER_1},t=[e,{id:ke.NonBreakingChange,name:"Non-Breaking Change",description:"It will exclude all indirect models caused by this change",value:ye.NUMBER_2}];return[e,t]}function Y({children:e,headline:t,type:r,className:a}){return n.jsxs("div",{className:P("flex flex-col rounded-md p-4",r===j.Add&&"bg-success-5",r===j.Remove&&"bg-danger-5",r===j.Direct&&"bg-secondary-5",r===j.Indirect&&"bg-warning-5",r===j.Default&&"bg-neutral-5",a),children:[ie(t)&&n.jsx("h4",{className:P("mb-2 font-bold whitespace-nowrap",r===j.Add&&"text-success-600 dark:text-success-300",r===j.Remove&&"text-danger-600 dark:text-danger-300",r===j.Direct&&"text-secondary-600 dark:text-secondary-300",r===j.Indirect&&"text-warning-600 dark:text-warning-300",r===j.Default&&"text-neutral-600 dark:text-neutral-300"),children:t}),e]})}function Or({changes:e=[],type:t}){return n.jsx("ul",{children:e.map(r=>n.jsxs("li",{className:P("flex items-center px-1 leading-5 mb-1",t===j.Add&&"text-success-600 dark:text-success-300",t===j.Remove&&"text-danger-600 dark:text-danger-300",t===j.Direct&&"text-secondary-600 dark:text-secondary-300",t===j.Indirect&&"text-warning-600 dark:text-warning-300",t===j.Default&&"text-neutral-600 dark:text-neutral-300"),children:[t===j.Add?n.jsx(dt,{className:"h-3 mr-2"}):t===j.Remove?n.jsx(At,{className:"h-3 mr-2"}):n.jsx(Oe,{className:"h-4 mr-2"}),n.jsx("small",{title:r.displayViewName,className:"w-full text-xs whitespace-nowrap text-ellipsis overflow-hidden",children:tt(r.displayViewName,50,25)})]},r.name))})}function Sr({changes:e=[],disabled:t=!1}){const r=He(),{categories:a}=we(),c=L(i=>i.models);return l.useEffect(()=>{r(e.map(i=>({type:D.Category,category:a.find(({value:o})=>o===i.change_category),change:i})))},[e]),n.jsx("ul",{children:e.map(i=>n.jsx("li",{className:"text-secondary-500 dark:text-primary-500 mt-1",children:n.jsx(J,{children:({open:o})=>n.jsxs(n.Fragment,{children:[n.jsxs(J.Button,{className:"flex items-center w-full justify-between rounded-lg text-left",children:[n.jsx(se,{className:"w-full",change:i}),(()=>{const s=o?Te:$e;return n.jsx(s,{className:"max-h-[1rem] min-w-[1rem] dark:text-primary-500"})})()]}),n.jsxs(J.Panel,{className:"text-sm px-4 mb-4 overflow-hidden",children:[Ie(i.indirect)&&n.jsx(Je,{type:"indirect",models:i.indirect}),n.jsx(ue,{className:"border-neutral-200 mt-2"}),n.jsx(Fr,{change:i,disabled:t}),n.jsx(ue,{className:"border-neutral-200 mt-2"}),n.jsxs("div",{className:"flex flex-col w-full h-full overflow-hidden overflow-y-auto hover:scrollbar scrollbar--vertical scrollbar--horizontal",children:[ie(i==null?void 0:i.diff)&&n.jsx(qe,{diff:i==null?void 0:i.diff}),(()=>{var d;const s=c.get(i.name);return rt(s)?n.jsx(n.Fragment,{}):n.jsx("div",{className:"h-[16rem] bg-theme-lighter rounded-xl py-2",children:n.jsx(ct,{showColumns:!1,showConnected:!0,children:n.jsx(ut,{model:s,highlightedNodes:{"border-4 border-warning-500":((d=i.indirect)==null?void 0:d.map(x=>x.name))??[],"border-4 border-secondary-500":[i.name],"*":[]}})})})})()]})]})]})})},i.name))})}function Fr({change:e,disabled:t=!1}){var i;const r=He(),{change_categorization:a,categories:c}=we();return n.jsx(te,{className:P("flex flex-col mt-2",t&&"pointer-events-none opacity-50 cursor-not-allowed"),disabled:t,value:((i=a.get(e.name))==null?void 0:i.category.value)??e.change_category,onChange:o=>{r({type:D.Category,category:c.find(({value:s})=>s===o),change:e})},children:c.map(o=>n.jsx(te.Option,{value:o.value,className:()=>P("relative flex rounded-md"),children:({checked:s})=>n.jsxs("div",{className:P("text-sm flex items-center px-2 py-1 w-full rounded-lg",s?"text-secondary-500 dark:text-primary-300":"text-prose"),children:[n.jsx("div",{className:"mt-[0.125rem] mr-2 border-2 border-neutral-400 min-w-[1rem] h-4 rounded-full flex justify-center items-center",children:s&&n.jsx("span",{className:"inline-block w-2 h-2 bg-secondary-500 dark:bg-primary-300 rounded-full"})}),n.jsxs("div",{children:[n.jsx(te.Label,{as:"p",children:o.name}),n.jsx(te.Description,{as:"span",className:"text-xs text-neutral-500",children:o.description})]})]})},o.name))})}function Ar({changes:e=[]}){return n.jsx("ul",{children:e.map(t=>n.jsx("li",{className:"text-warning-700 dark:text-warning-500",children:Ie(t.direct)?n.jsx(J,{children:({open:r})=>n.jsxs(n.Fragment,{children:[n.jsxs(J.Button,{className:"flex items-center w-full justify-between rounded-lg text-left",children:[n.jsx(se,{change:t}),(()=>{const a=r?Te:$e;return n.jsx(a,{className:"max-h-[1rem] min-w-[1rem] dark:text-primary-500 mt-0.5"})})()]}),n.jsx(J.Panel,{className:"text-sm px-4 mb-4",children:n.jsx(Je,{type:"direct",models:t.direct??[]})})]})}):n.jsx(se,{change:t})},t.name))})}function se({change:e,className:t}){var c;const{change_categorization:r}=we(),a=(c=r.get(e.name))==null?void 0:c.category;return n.jsxs("div",{className:P("flex items-center font-bold",t),children:[n.jsx(Oe,{className:"h-4 mr-2"}),n.jsx("small",{className:"w-full text-xs whitespace-nowrap text-ellipsis overflow-hidden",children:e.displayViewName}),ie(a)&&n.jsx("span",{className:"ml-2 text-xs px-1 bg-neutral-400 text-neutral-100  dark:bg-neutral-400 dark:text-neutral-800 rounded whitespace-nowrap mr-2",children:a.name})]})}function Je({type:e,models:t}){return n.jsx("ul",{className:P("mt-2 ml-4",e==="indirect"&&"text-warning-700 dark:text-warning-500",e==="direct"&&"text-secondary-500 dark:text-primary-500"),children:t.map(r=>n.jsxs("li",{className:"flex",children:[n.jsx("span",{className:"h-3 w-3 border-l-2 border-b-2 inline-block mr-2"}),r.displayViewName]},r.name))})}function qe({diff:e}){return n.jsx("div",{className:"my-4 bg-dark-lighter rounded-lg overflow-hidden",children:n.jsx("pre",{className:"p-4 text-primary-100 max-h-[30vh] text-xs overflow-auto hover:scrollbar scrollbar--vertical scrollbar--horizontal",children:e.split(`
`).map((t,r)=>n.jsx("p",{className:P(t.startsWith("+")&&"text-success-500 bg-success-500/10 px-2",t.startsWith("-")&&"text-danger-500 bg-danger-500/10 px-2",t.startsWith("@@")&&"text-primary-300 my-5 px-2"),children:t},`${t}-${r}`))})})}Y.Default=Or;Y.Direct=Sr;Y.Indirect=Ar;Y.Diff=qe;Y.Title=se;function _r({onAdd:e,className:t,label:r="Add",size:a=ne.sm}){const c=L(p=>p.getNextEnvironment),i=L(p=>p.isExistingEnvironment),o=L(p=>p.addLocalEnvironment),[s,d]=l.useState(""),[x,v]=l.useState(c().name);function y(p){p.stopPropagation(),o(s,x),d(""),v(c().name),e==null||e()}function g(p){p.stopPropagation(),d(p.target.value)}const R=nt(s)||i(s);return n.jsxs("div",{className:P("flex w-full items-center bg-secondary-5",t),children:[n.jsx(Ne,{className:"my-0 mx-0 mr-4 min-w-[10rem] w-full",size:a,children:({className:p})=>n.jsx(Ne.Textfield,{className:P(p,"w-full"),placeholder:"Environment",value:s,onInput:g})}),n.jsx(de,{className:"my-0 mx-0 font-bold",variant:re.Secondary,size:a,disabled:R,onClick:y,children:r})]})}function Jr({disabled:e=!1,className:t,showAddEnvironment:r=!0,size:a=ne.sm,onSelect:c}){const{addError:i}=at(),o=L(p=>p.environment),s=L(p=>p.environments),d=L(p=>p.setEnvironment),x=L(p=>p.removeLocalEnvironment),v=st(ee.Button);function y(p,u){p.stopPropagation(),d(u),c==null||c()}function g(p,u){p.stopPropagation(),x(u)}function R(p,u){p.stopPropagation(),ot(u.name).then(()=>{x(u)}).catch(E=>{i(lt.Environments,E)})}return n.jsx(ee,{as:"div",className:P("flex relative",t),children:({close:p})=>n.jsxs(n.Fragment,{children:[n.jsxs(v,{variant:re.Info,size:a,disabled:e,className:"flex justify-between w-full mx-0 pr-1",children:[n.jsxs("span",{className:P("block overflow-hidden truncate",(o.isLocal||e)&&"text-neutral-500",o.isRemote?"text-primary-600 dark:text-primary-300":"text-neutral-600 dark:text-neutral-200"),children:[n.jsx("span",{className:"text-xs text-neutral-300 dark:text-neutral-500 mr-1",children:"Environment:"}),n.jsx("span",{children:o.name})]}),n.jsx("span",{className:"pointer-events-none inset-y-0 right-0 flex items-center pl-1",children:n.jsx(Tt,{className:P("w-4",e?"text-neutral-400 dark:text-neutral-200":"text-neutral-800 dark:text-neutral-200"),"aria-hidden":"true"})})]}),n.jsx(Pt,{as:l.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:n.jsx("div",{className:"!mx-0 absolute top-10 right-0 min-w-[20rem] max-w-[100%] overflow-hidden shadow-2xl bg-theme border-0 border-neutral-100 dark:border-neutral-800 rounded-md flex flex-col z-10",children:n.jsxs(ee.Items,{className:"mx-0 overflow-auto max-h-80 hover:scrollbar scrollbar--vertical",children:[Array.from(s).map(u=>n.jsx(ee.Item,{disabled:u===o,children:({active:E})=>n.jsxs("div",{onClick:I=>y(I,u),className:P("flex justify-between items-center pl-2 pr-1 py-1 overflow-auto",E?"text-neutral-600 bg-neutral-10":"text-neutral-400",u===o?"cursor-default bg-neutral-5":"cursor-pointer"),children:[n.jsxs("div",{className:"flex items-start",children:[n.jsx(Bt,{className:P("w-4 h-4 mt-[6px]",u===o?"opacity-100 text-primary-500":"opacity-0")}),n.jsxs("span",{className:"block",children:[n.jsxs("span",{className:"flex items-baseline",children:[n.jsx("span",{className:P("block truncate ml-2",u.isRemote&&"text-primary-500"),children:u.name}),n.jsxs("small",{className:"block ml-2",children:["(",u.type,")"]})]}),u.isProd&&n.jsx("span",{className:"flex ml-2",children:n.jsx("small",{className:"text-xs text-neutral-500",children:"Production Environment"})}),u.isDefault&&n.jsx("span",{className:"flex ml-2",children:n.jsx("small",{className:"text-xs text-neutral-500",children:"Default Environment"})})]})]}),n.jsxs("div",{className:"flex items-center",children:[u.isPinned&&n.jsx(Kt,{title:"Pinned",className:"w-4 text-primary-500 dark:text-primary-100 mx-1"}),Re(u.isPinned)&&u.isLocal&&u!==o&&n.jsx(de,{className:"!m-0 !px-1 bg-transparent hover:bg-transparent border-none",size:ne.xs,format:it.Ghost,variant:re.Neutral,onClick:I=>g(I,u),children:n.jsx(Ut,{className:"w-4 text-neutral-500 dark:text-neutral-100"})}),Re(u.isPinned)&&u.isRemote&&u!==o&&n.jsx(de,{className:"!px-2 !my-0",size:ne.xs,variant:re.Danger,onClick:I=>R(I,u),children:"Delete"})]})]})},u.name)),r&&n.jsxs(n.Fragment,{children:[n.jsx(ue,{}),n.jsx(_r,{onAdd:p,className:"p-2 pb-2"})]})]})})})]})})}export{_r as A,j as E,ze as H,_e as M,Y as P,Jr as S,hr as a,qt as b,we as c,D as d,Hr as e,He as u};
