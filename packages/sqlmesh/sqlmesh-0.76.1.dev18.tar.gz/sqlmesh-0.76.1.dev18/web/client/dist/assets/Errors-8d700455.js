import{x as j,s as v,u as y,r as l,C as N,E as a,w as h,j as r,B as g,k,h as c,O as A,v as C}from"./index-71398e80.js";import{P as D}from"./Page-42f62b70.js";import{S,a as z}from"./SourceList-88864e32.js";import"./SplitPane-7aa47462.js";import"./Input-0c327896.js";import"./index-2452699b.js";function B(){const{pathname:m}=j(),i=v(),{errors:o,removeError:u,clearErrors:f}=y(),t=l.useMemo(()=>Array.from(o).reverse(),[o]);l.useEffect(()=>{var e;if(N(t))setTimeout(()=>i(a.Home));else{const s=(e=t[0])==null?void 0:e.id;h(s)?i(a.Errors,{replace:!0}):i(a.Errors+"/"+s,{replace:!0})}},[t]);function d(e){const s=t.find(n=>n.id===e);C(s)&&u(s)}return r.jsx(D,{sidebar:r.jsxs("div",{className:"flex flex-col h-full w-full",children:[o.size>0&&r.jsx("div",{className:"flex justify-end m-1",children:r.jsx(g,{size:k.sm,variant:c.Neutral,onClick:()=>f(),children:"Clear All"})}),r.jsx(S,{keyId:"id",keyName:"key",keyDescription:"message",to:a.Errors,items:t,isActive:e=>`${a.Errors}/${e}`===m,types:t.reduce((e,s)=>Object.assign(e,{[s.id]:s.status}),{}),listItem:({id:e,to:s,name:n,description:p,text:x,disabled:E=!1})=>r.jsx(z,{to:s,name:n,text:x,description:p,variant:c.Danger,disabled:E,handleDelete:()=>d(e)})})]}),content:r.jsx(A,{})})}export{B as default};
