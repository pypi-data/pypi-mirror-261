import{_ as r}from"./main-17f2d9e3.js";const t=new URLSearchParams(window.location.search);function s(i){return isNaN(i)===!1&&i!==null}async function d(){const{mapview:i}=await r(()=>import("./map-704b8d69.js").then(e=>e.p),["assets/map-704b8d69.js","assets/main-17f2d9e3.js","assets/index-f2c4f58e.css","assets/proj-20c50701.js","assets/constants-36dce06f.js","assets/map-c04ede37.css"]);if(s(t.get("x"))&&s(t.get("y"))){const{fromLonLat:e}=await r(()=>import("./proj-20c50701.js").then(o=>o.al),[]),n=Number.parseFloat(t.get("x")),a=Number.parseFloat(t.get("y"));i.setCenter(e([n,a]))}if(isNaN(t.get("z"))===!1&&t.get("z")!==null){const e=Number.parseFloat(t.get("z"));i.setZoom(e)}if(Date.parse(t.get("start"))>0&&Date.parse(t.get("end"))>0){const{setSearchValue:e}=await r(()=>import("./map-704b8d69.js").then(o=>o.n),["assets/map-704b8d69.js","assets/main-17f2d9e3.js","assets/index-f2c4f58e.css","assets/proj-20c50701.js","assets/constants-36dce06f.js","assets/map-c04ede37.css"]),n=new Date(t.get("start")),a=new Date(t.get("end"));e(n.toISOString(),a.toISOString())}if(s(t.get("xmin"))&&s(t.get("xmax"))&&s(t.get("ymin"))&&s(t.get("ymax"))){const e=Number.parseFloat(t.get("xmin")),n=Number.parseFloat(t.get("xmax")),a=Number.parseFloat(t.get("ymin")),o=Number.parseFloat(t.get("ymax"));window.searcharea={x0:e,x1:n,y0:a,y1:o}}if(t.get("python")!==void 0&&t.get("python")!==null){document.getElementById("formDiv").style.display="none",document.getElementById("mapDiv").style.height="100%";const{waitForSocket:e,db_socket:n}=await r(()=>import("./map-704b8d69.js").then(a=>a.o),["assets/map-704b8d69.js","assets/main-17f2d9e3.js","assets/index-f2c4f58e.css","assets/proj-20c50701.js","assets/constants-36dce06f.js","assets/map-c04ede37.css"]);await e(),n.addEventListener("close",async a=>{window.close()}),n.addEventListener("error",async a=>{window.close()})}if(t.get("search")!==null){const{searchbtn:e}=await r(()=>import("./map-704b8d69.js").then(n=>n.n),["assets/map-704b8d69.js","assets/main-17f2d9e3.js","assets/index-f2c4f58e.css","assets/proj-20c50701.js","assets/constants-36dce06f.js","assets/map-c04ede37.css"]);if(await e.click(),t.get("screenshot")!==null){const{screenshot:n}=await r(()=>import("./render-6bd8622a.js"),["assets/render-6bd8622a.js","assets/map-704b8d69.js","assets/main-17f2d9e3.js","assets/index-f2c4f58e.css","assets/proj-20c50701.js","assets/constants-36dce06f.js","assets/map-c04ede37.css"]);await n()}}if(t.get("24h")!==null&&t.get("24h")!==void 0){const{setSearchValue:e,searchbtn:n}=await r(()=>import("./map-704b8d69.js").then(m=>m.n),["assets/map-704b8d69.js","assets/main-17f2d9e3.js","assets/index-f2c4f58e.css","assets/proj-20c50701.js","assets/constants-36dce06f.js","assets/map-c04ede37.css"]);(window.searcharea===null||window.searcharea===void 0)&&(window.searcharea={x0:-180,x1:180,y0:-90,y1:90});const a=1*24*60*60*1e3,o=new Date(Date.now()-a),c=new Date(Date.now()-1e3*60*5).toISOString(),l=o.toISOString();e(l,c),n.click()}t.get("debugopts")!==null&&(console.log("enabling heatmap testing... (DEBUGOPTS=1)"),window.heatmaptest=!0)}export{d as default};
