import{x as Z,I as se,y as ce,z as Pt,A as Fe,B as lt,C as le,D as at,E as nt,G as ot,H as Y,J as L,K as Pe,L as Re,w as te,M as ae,k as a,V as Ne,N as re,O as Le,P as Ie,Q as _t,R as Ee,S as it,T as Me,U as At,W as ve,n as X,X as be,Y as Tt,Z as Lt,$ as Bt,a0 as Dt,a1 as st,a2 as Ft,a3 as Rt,a4 as Et,a5 as ut,a6 as Mt,a7 as Ot,a8 as zt,a9 as jt,aa as rt,ab as Ht,ac as xe,ad as Nt,ae as $t,af as ke,ag as ct,ah as Ut,ai as dt,aj as fe,ak as Oe,F as Q,al as Be,am as vt,an as Kt,ao as ft,ap as qt,aq as mt,r as W,i as De,ar as $e,as as Gt,at as Wt,au as Ue,av as ze,aw as Se,ax as Xt,ay as Ke,az as gt,aA as Yt,aB as Jt,aC as Zt,aD as Qt,aE as el,aF as tl,aG as ht,aH as ll,aI as al,aJ as nl,aK as ol,aL as ye,aM as il,aN as sl,aO as ul,aP as rl,aQ as cl,aR as dl,aS as vl,aT as fl,aU as qe,aV as ml,aW as gl,aX as Ge,aY as yt,aZ as hl,a_ as yl,a$ as pl,b0 as bl,b1 as xl,o as kl,b2 as Sl,b3 as Cl,b4 as Vl,b5 as wl,b6 as Il,f as pe,b7 as We,d as Pl,b8 as Xe,b9 as _l,a as Al,c as Tl,b as Ll,j as ie,u as j,ba as he,t as _e,bb as Ce,bc as Bl,bd as Ve,be as Dl,bf as Fl,bg as Rl,bh as El,bi as Ml,bj as Ae,bk as Ol,v as zl}from"./index-4GBRVimn.js";import{bh as jl,bi as Hl,bg as Nl,bf as Ye,k as ee,c as $l,j as Ul,ba as Kl,ac as ql}from"./three.module-CDFq7Ksn.js";function Je(e){const t=Math.abs(e);return Math.sign(e)*(t/((1/.501-2)*(1-t)+1))}function Ze(e){let{selectedElement:y,containerSize:t,contentSize:v,isRtl:n,currentScrollOffset:d,isHorizontal:c}=e;const s=c?y.clientWidth:y.clientHeight,l=c?y.offsetLeft:y.offsetTop,x=n&&c?v-l-s:l,C=t+d,m=s+x,g=s*.4;return x<=d?d=Math.max(x-g,0):C<=m&&(d=Math.min(d-(C-m-g),v-t)),d}function Gl(e){let{selectedElement:y,containerSize:t,contentSize:v,isRtl:n,isHorizontal:d}=e;const c=d?y.clientWidth:y.clientHeight,s=d?y.offsetLeft:y.offsetTop,l=n&&d?v-s-c/2-t/2:s+c/2-t/2;return Math.min(v-t,Math.max(0,l))}const Wl=Symbol.for("vuetify:v-slide-group"),pt=Z({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:Wl},nextIcon:{type:se,default:"$next"},prevIcon:{type:se,default:"$prev"},showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["always","desktop","mobile"].includes(e)},...ce(),...Pt(),...Fe(),...lt({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),Qe=le()({name:"VSlideGroup",props:pt(),emits:{"update:modelValue":e=>!0},setup(e,y){let{slots:t}=y;const{isRtl:v}=at(),{displayClasses:n,mobile:d}=nt(e),c=ot(e,e.symbol),s=Y(!1),l=Y(0),x=Y(0),C=Y(0),m=L(()=>e.direction==="horizontal"),{resizeRef:g,contentRect:A}=Pe(),{resizeRef:I,contentRect:k}=Pe(),f=L(()=>c.selected.value.length?c.items.value.findIndex(r=>r.id===c.selected.value[0]):-1),S=L(()=>c.selected.value.length?c.items.value.findIndex(r=>r.id===c.selected.value[c.selected.value.length-1]):-1);if(Re){let r=-1;te(()=>[c.selected.value,A.value,k.value,m.value],()=>{cancelAnimationFrame(r),r=requestAnimationFrame(()=>{if(A.value&&k.value){const h=m.value?"width":"height";x.value=A.value[h],C.value=k.value[h],s.value=x.value+1<C.value}if(f.value>=0&&I.value){const h=I.value.children[S.value];f.value===0||!s.value?l.value=0:e.centerActive?l.value=Gl({selectedElement:h,containerSize:x.value,contentSize:C.value,isRtl:v.value,isHorizontal:m.value}):s.value&&(l.value=Ze({selectedElement:h,containerSize:x.value,contentSize:C.value,isRtl:v.value,currentScrollOffset:l.value,isHorizontal:m.value}))}})})}const V=Y(!1);let M=0,R=0;function K(r){const h=m.value?"clientX":"clientY";R=(v.value&&m.value?-1:1)*l.value,M=r.touches[0][h],V.value=!0}function F(r){if(!s.value)return;const h=m.value?"clientX":"clientY",b=v.value&&m.value?-1:1;l.value=b*(R+M-r.touches[0][h])}function w(r){const h=C.value-x.value;l.value<0||!s.value?l.value=0:l.value>=h&&(l.value=h),V.value=!1}function z(){g.value&&(g.value[m.value?"scrollLeft":"scrollTop"]=0)}const H=Y(!1);function q(r){if(H.value=!0,!(!s.value||!I.value)){for(const h of r.composedPath())for(const b of I.value.children)if(b===h){l.value=Ze({selectedElement:b,containerSize:x.value,contentSize:C.value,isRtl:v.value,currentScrollOffset:l.value,isHorizontal:m.value});return}}}function $(r){H.value=!1}function N(r){var h;!H.value&&!(r.relatedTarget&&((h=I.value)!=null&&h.contains(r.relatedTarget)))&&T()}function O(r){I.value&&(m.value?r.key==="ArrowRight"?T(v.value?"prev":"next"):r.key==="ArrowLeft"&&T(v.value?"next":"prev"):r.key==="ArrowDown"?T("next"):r.key==="ArrowUp"&&T("prev"),r.key==="Home"?T("first"):r.key==="End"&&T("last"))}function T(r){var h,b,P,D,E;if(I.value)if(!r)(h=Le(I.value)[0])==null||h.focus();else if(r==="next"){const _=(b=I.value.querySelector(":focus"))==null?void 0:b.nextElementSibling;_?_.focus():T("first")}else if(r==="prev"){const _=(P=I.value.querySelector(":focus"))==null?void 0:P.previousElementSibling;_?_.focus():T("last")}else r==="first"?(D=I.value.firstElementChild)==null||D.focus():r==="last"&&((E=I.value.lastElementChild)==null||E.focus())}function B(r){const h=l.value+(r==="prev"?-1:1)*x.value;l.value=Ie(h,0,C.value-x.value)}const U=L(()=>{let r=l.value>C.value-x.value?-(C.value-x.value)+Je(C.value-x.value-l.value):-l.value;l.value<=0&&(r=Je(-l.value));const h=v.value&&m.value?-1:1;return{transform:`translate${m.value?"X":"Y"}(${h*r}px)`,transition:V.value?"none":"",willChange:V.value?"transform":""}}),o=L(()=>({next:c.next,prev:c.prev,select:c.select,isSelected:c.isSelected})),i=L(()=>{switch(e.showArrows){case"always":return!0;case"desktop":return!d.value;case!0:return s.value||Math.abs(l.value)>0;case"mobile":return d.value||s.value||Math.abs(l.value)>0;default:return!d.value&&(s.value||Math.abs(l.value)>0)}}),u=L(()=>Math.abs(l.value)>0),p=L(()=>C.value>Math.abs(l.value)+x.value);return ae(()=>a(e.tag,{class:["v-slide-group",{"v-slide-group--vertical":!m.value,"v-slide-group--has-affixes":i.value,"v-slide-group--is-overflowing":s.value},n.value,e.class],style:e.style,tabindex:H.value||c.selected.value.length?-1:0,onFocus:N},{default:()=>{var r,h,b;return[i.value&&a("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!u.value}],onClick:()=>u.value&&B("prev")},[((r=t.prev)==null?void 0:r.call(t,o.value))??a(Ne,null,{default:()=>[a(re,{icon:v.value?e.nextIcon:e.prevIcon},null)]})]),a("div",{key:"container",ref:g,class:"v-slide-group__container",onScroll:z},[a("div",{ref:I,class:"v-slide-group__content",style:U.value,onTouchstartPassive:K,onTouchmovePassive:F,onTouchendPassive:w,onFocusin:q,onFocusout:$,onKeydown:O},[(h=t.default)==null?void 0:h.call(t,o.value)])]),i.value&&a("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!p.value}],onClick:()=>p.value&&B("next")},[((b=t.next)==null?void 0:b.call(t,o.value))??a(Ne,null,{default:()=>[a(re,{icon:v.value?e.prevIcon:e.nextIcon},null)]})])]}})),{selected:c.selected,scrollTo:B,scrollOffset:l,focus:T}}}),bt=Symbol.for("vuetify:v-chip-group"),Xl=Z({column:Boolean,filter:Boolean,valueComparator:{type:Function,default:_t},...pt(),...ce(),...lt({selectedClass:"v-chip--selected"}),...Fe(),...Ee(),...it({variant:"tonal"})},"VChipGroup");le()({name:"VChipGroup",props:Xl(),emits:{"update:modelValue":e=>!0},setup(e,y){let{slots:t}=y;const{themeClasses:v}=Me(e),{isSelected:n,select:d,next:c,prev:s,selected:l}=ot(e,bt);return At({VChip:{color:ve(e,"color"),disabled:ve(e,"disabled"),filter:ve(e,"filter"),variant:ve(e,"variant")}}),ae(()=>{const x=Qe.filterProps(e);return a(Qe,X(x,{class:["v-chip-group",{"v-chip-group--column":e.column},v.value,e.class],style:e.style}),{default:()=>{var C;return[(C=t.default)==null?void 0:C.call(t,{isSelected:n,select:d,next:c,prev:s,selected:l.value})]}})}),{}}});const Yl=Z({activeClass:String,appendAvatar:String,appendIcon:se,closable:Boolean,closeIcon:{type:se,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:se,ripple:{type:[Boolean,Object],default:!0},text:String,modelValue:{type:Boolean,default:!0},onClick:be(),onClickOnce:be(),...Tt(),...ce(),...Lt(),...Bt(),...Dt(),...st(),...Ft(),...Rt(),...Fe({tag:"span"}),...Ee(),...it({variant:"tonal"})},"VChip"),Jl=le()({name:"VChip",directives:{Ripple:Et},props:Yl(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0,"group:selected":e=>!0,click:e=>!0},setup(e,y){let{attrs:t,emit:v,slots:n}=y;const{t:d}=ut(),{borderClasses:c}=Mt(e),{colorClasses:s,colorStyles:l,variantClasses:x}=Ot(e),{densityClasses:C}=zt(e),{elevationClasses:m}=jt(e),{roundedClasses:g}=rt(e),{sizeClasses:A}=Ht(e),{themeClasses:I}=Me(e),k=xe(e,"modelValue"),f=Nt(e,bt,!1),S=$t(e,t),V=L(()=>e.link!==!1&&S.isLink.value),M=L(()=>!e.disabled&&e.link!==!1&&(!!f||e.link||S.isClickable.value)),R=L(()=>({"aria-label":d(e.closeLabel),onClick(w){w.stopPropagation(),k.value=!1,v("click:close",w)}}));function K(w){var z;v("click",w),M.value&&((z=S.navigate)==null||z.call(S,w),f==null||f.toggle())}function F(w){(w.key==="Enter"||w.key===" ")&&(w.preventDefault(),K(w))}return()=>{const w=S.isLink.value?"a":e.tag,z=!!(e.appendIcon||e.appendAvatar),H=!!(z||n.append),q=!!(n.close||e.closable),$=!!(n.filter||e.filter)&&f,N=!!(e.prependIcon||e.prependAvatar),O=!!(N||n.prepend),T=!f||f.isSelected.value;return k.value&&ke(a(w,{class:["v-chip",{"v-chip--disabled":e.disabled,"v-chip--label":e.label,"v-chip--link":M.value,"v-chip--filter":$,"v-chip--pill":e.pill},I.value,c.value,T?s.value:void 0,C.value,m.value,g.value,A.value,x.value,f==null?void 0:f.selectedClass.value,e.class],style:[T?l.value:void 0,e.style],disabled:e.disabled||void 0,draggable:e.draggable,href:S.href.value,tabindex:M.value?0:void 0,onClick:K,onKeydown:M.value&&!V.value&&F},{default:()=>{var B;return[Ut(M.value,"v-chip"),$&&a(dt,{key:"filter"},{default:()=>[ke(a("div",{class:"v-chip__filter"},[n.filter?a(fe,{key:"filter-defaults",disabled:!e.filterIcon,defaults:{VIcon:{icon:e.filterIcon}}},n.filter):a(re,{key:"filter-icon",icon:e.filterIcon},null)]),[[Oe,f.isSelected.value]])]}),O&&a("div",{key:"prepend",class:"v-chip__prepend"},[n.prepend?a(fe,{key:"prepend-defaults",disabled:!N,defaults:{VAvatar:{image:e.prependAvatar,start:!0},VIcon:{icon:e.prependIcon,start:!0}}},n.prepend):a(Q,null,[e.prependIcon&&a(re,{key:"prepend-icon",icon:e.prependIcon,start:!0},null),e.prependAvatar&&a(Be,{key:"prepend-avatar",image:e.prependAvatar,start:!0},null)])]),a("div",{class:"v-chip__content","data-no-activator":""},[((B=n.default)==null?void 0:B.call(n,{isSelected:f==null?void 0:f.isSelected.value,selectedClass:f==null?void 0:f.selectedClass.value,select:f==null?void 0:f.select,toggle:f==null?void 0:f.toggle,value:f==null?void 0:f.value.value,disabled:e.disabled}))??e.text]),H&&a("div",{key:"append",class:"v-chip__append"},[n.append?a(fe,{key:"append-defaults",disabled:!z,defaults:{VAvatar:{end:!0,image:e.appendAvatar},VIcon:{end:!0,icon:e.appendIcon}}},n.append):a(Q,null,[e.appendIcon&&a(re,{key:"append-icon",end:!0,icon:e.appendIcon},null),e.appendAvatar&&a(Be,{key:"append-avatar",end:!0,image:e.appendAvatar},null)])]),q&&a("button",X({key:"close",class:"v-chip__close",type:"button"},R.value),[n.close?a(fe,{key:"close-defaults",defaults:{VIcon:{icon:e.closeIcon,size:"x-small"}}},n.close):a(re,{key:"close-icon",icon:e.closeIcon,size:"x-small"},null)])]}}),[[ct("ripple"),M.value&&e.ripple,null]])}}}),Zl=Z({id:String,...vt(Kt({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:ft}}),["absolute"])},"VMenu"),Ql=le()({name:"VMenu",props:Zl(),emits:{"update:modelValue":e=>!0},setup(e,y){let{slots:t}=y;const v=xe(e,"modelValue"),{scopeId:n}=qt(),d=mt(),c=L(()=>e.id||`v-menu-${d}`),s=W(),l=De($e,null),x=Y(0);Gt($e,{register(){++x.value},unregister(){--x.value},closeParents(k){setTimeout(()=>{!x.value&&(k==null||k&&!Wt(k,s.value.contentEl))&&(v.value=!1,l==null||l.closeParents())},40)}});async function C(k){var V,M,R;const f=k.relatedTarget,S=k.target;await Se(),v.value&&f!==S&&((V=s.value)!=null&&V.contentEl)&&((M=s.value)!=null&&M.globalTop)&&![document,s.value.contentEl].includes(S)&&!s.value.contentEl.contains(S)&&((R=Le(s.value.contentEl)[0])==null||R.focus())}te(v,k=>{k?(l==null||l.register(),document.addEventListener("focusin",C,{once:!0})):(l==null||l.unregister(),document.removeEventListener("focusin",C))});function m(k){l==null||l.closeParents(k)}function g(k){var f,S,V;e.disabled||k.key==="Tab"&&(Xt(Le((f=s.value)==null?void 0:f.contentEl,!1),k.shiftKey?"prev":"next",R=>R.tabIndex>=0)||(v.value=!1,(V=(S=s.value)==null?void 0:S.activatorEl)==null||V.focus()))}function A(k){var S;if(e.disabled)return;const f=(S=s.value)==null?void 0:S.contentEl;f&&v.value?k.key==="ArrowDown"?(k.preventDefault(),Ke(f,"next")):k.key==="ArrowUp"&&(k.preventDefault(),Ke(f,"prev")):["ArrowDown","ArrowUp"].includes(k.key)&&(v.value=!0,k.preventDefault(),setTimeout(()=>setTimeout(()=>A(k))))}const I=L(()=>X({"aria-haspopup":"menu","aria-expanded":String(v.value),"aria-owns":c.value,onKeydown:A},e.activatorProps));return ae(()=>{const k=Ue.filterProps(e);return a(Ue,X({ref:s,id:c.value,class:["v-menu",e.class],style:e.style},k,{modelValue:v.value,"onUpdate:modelValue":f=>v.value=f,absolute:!0,activatorProps:I.value,"onClick:outside":m,onKeydown:g},n),{activator:t.activator,default:function(){for(var f=arguments.length,S=new Array(f),V=0;V<f;V++)S[V]=arguments[V];return a(fe,{root:"VMenu"},{default:()=>{var M;return[(M=t.default)==null?void 0:M.call(t,...S)]}})}})}),ze({id:c,ΨopenChildren:x},s)}}),ea=Z({active:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...ce(),...gt({transition:{component:Yt}})},"VCounter"),ta=le()({name:"VCounter",functional:!0,props:ea(),setup(e,y){let{slots:t}=y;const v=L(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return ae(()=>a(Jt,{transition:e.transition},{default:()=>[ke(a("div",{class:["v-counter",e.class],style:e.style},[t.default?t.default({counter:v.value,max:e.max,value:e.value}):v.value]),[[Oe,e.active]])]})),{}}}),la=Z({floating:Boolean,...ce()},"VFieldLabel"),we=le()({name:"VFieldLabel",props:la(),setup(e,y){let{slots:t}=y;return ae(()=>a(Zt,{class:["v-field-label",{"v-field-label--floating":e.floating},e.class],style:e.style,"aria-hidden":e.floating||void 0},t)),{}}}),aa=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],xt=Z({appendInnerIcon:se,bgColor:String,clearable:Boolean,clearIcon:{type:se,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:se,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>aa.includes(e)},"onClick:clear":be(),"onClick:appendInner":be(),"onClick:prependInner":be(),...ce(),...Qt(),...st(),...Ee()},"VField"),kt=le()({name:"VField",inheritAttrs:!1,props:{id:String,...el(),...xt()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,y){let{attrs:t,emit:v,slots:n}=y;const{themeClasses:d}=Me(e),{loaderClasses:c}=tl(e),{focusClasses:s,isFocused:l,focus:x,blur:C}=ht(e),{InputIcon:m}=ll(e),{roundedClasses:g}=rt(e),{rtlClasses:A}=at(),I=L(()=>e.dirty||e.active),k=L(()=>!e.singleLine&&!!(e.label||n.label)),f=mt(),S=L(()=>e.id||`input-${f}`),V=L(()=>`${S.value}-messages`),M=W(),R=W(),K=W(),F=L(()=>["plain","underlined"].includes(e.variant)),{backgroundColorClasses:w,backgroundColorStyles:z}=al(ve(e,"bgColor")),{textColorClasses:H,textColorStyles:q}=nl(L(()=>e.error||e.disabled?void 0:I.value&&l.value?e.color:e.baseColor));te(I,O=>{if(k.value){const T=M.value.$el,B=R.value.$el;requestAnimationFrame(()=>{const U=ol(T),o=B.getBoundingClientRect(),i=o.x-U.x,u=o.y-U.y-(U.height/2-o.height/2),p=o.width/.75,r=Math.abs(p-U.width)>1?{maxWidth:ye(p)}:void 0,h=getComputedStyle(T),b=getComputedStyle(B),P=parseFloat(h.transitionDuration)*1e3||150,D=parseFloat(b.getPropertyValue("--v-field-label-scale")),E=b.getPropertyValue("color");T.style.visibility="visible",B.style.visibility="hidden",il(T,{transform:`translate(${i}px, ${u}px) scale(${D})`,color:E,...r},{duration:P,easing:sl,direction:O?"normal":"reverse"}).finished.then(()=>{T.style.removeProperty("visibility"),B.style.removeProperty("visibility")})})}},{flush:"post"});const $=L(()=>({isActive:I,isFocused:l,controlRef:K,blur:C,focus:x}));function N(O){O.target!==document.activeElement&&O.preventDefault()}return ae(()=>{var i,u,p;const O=e.variant==="outlined",T=n["prepend-inner"]||e.prependInnerIcon,B=!!(e.clearable||n.clear),U=!!(n["append-inner"]||e.appendInnerIcon||B),o=()=>n.label?n.label({...$.value,label:e.label,props:{for:S.value}}):e.label;return a("div",X({class:["v-field",{"v-field--active":I.value,"v-field--appended":U,"v-field--center-affix":e.centerAffix??!F.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":T,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!o(),[`v-field--variant-${e.variant}`]:!0},d.value,w.value,s.value,c.value,g.value,A.value,e.class],style:[z.value,e.style],onClick:N},t),[a("div",{class:"v-field__overlay"},null),a(ul,{name:"v-field",active:!!e.loading,color:e.error?"error":typeof e.loading=="string"?e.loading:e.color},{default:n.loader}),T&&a("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&a(m,{key:"prepend-icon",name:"prependInner"},null),(i=n["prepend-inner"])==null?void 0:i.call(n,$.value)]),a("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&k.value&&a(we,{key:"floating-label",ref:R,class:[H.value],floating:!0,for:S.value,style:q.value},{default:()=>[o()]}),a(we,{ref:M,for:S.value},{default:()=>[o()]}),(u=n.default)==null?void 0:u.call(n,{...$.value,props:{id:S.value,class:"v-field__input","aria-describedby":V.value},focus:x,blur:C})]),B&&a(dt,{key:"clear"},{default:()=>[ke(a("div",{class:"v-field__clearable",onMousedown:r=>{r.preventDefault(),r.stopPropagation()}},[n.clear?n.clear():a(m,{name:"clear"},null)]),[[Oe,e.dirty]])]}),U&&a("div",{key:"append",class:"v-field__append-inner"},[(p=n["append-inner"])==null?void 0:p.call(n,$.value),e.appendInnerIcon&&a(m,{key:"append-icon",name:"appendInner"},null)]),a("div",{class:["v-field__outline",H.value],style:q.value},[O&&a(Q,null,[a("div",{class:"v-field__outline__start"},null),k.value&&a("div",{class:"v-field__outline__notch"},[a(we,{ref:R,floating:!0,for:S.value},{default:()=>[o()]})]),a("div",{class:"v-field__outline__end"},null)]),F.value&&k.value&&a(we,{ref:R,floating:!0,for:S.value},{default:()=>[o()]})])])}),{controlRef:K}}});function na(e){const y=Object.keys(kt.props).filter(t=>!rl(t)&&t!=="class"&&t!=="style");return cl(e,y)}const oa=["color","file","time","date","datetime-local","week","month"],St=Z({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...dl(),...xt()},"VTextField"),et=le()({name:"VTextField",directives:{Intersect:vl},inheritAttrs:!1,props:St(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,y){let{attrs:t,emit:v,slots:n}=y;const d=xe(e,"modelValue"),{isFocused:c,focus:s,blur:l}=ht(e),x=L(()=>typeof e.counterValue=="function"?e.counterValue(d.value):typeof e.counterValue=="number"?e.counterValue:(d.value??"").toString().length),C=L(()=>{if(t.maxlength)return t.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),m=L(()=>["plain","underlined"].includes(e.variant));function g(F,w){var z,H;!e.autofocus||!F||(H=(z=w[0].target)==null?void 0:z.focus)==null||H.call(z)}const A=W(),I=W(),k=W(),f=L(()=>oa.includes(e.type)||e.persistentPlaceholder||c.value||e.active);function S(){var F;k.value!==document.activeElement&&((F=k.value)==null||F.focus()),c.value||s()}function V(F){v("mousedown:control",F),F.target!==k.value&&(S(),F.preventDefault())}function M(F){S(),v("click:control",F)}function R(F){F.stopPropagation(),S(),Se(()=>{d.value=null,gl(e["onClick:clear"],F)})}function K(F){var z;const w=F.target;if(d.value=w.value,(z=e.modelModifiers)!=null&&z.trim&&["text","search","password","tel","url"].includes(e.type)){const H=[w.selectionStart,w.selectionEnd];Se(()=>{w.selectionStart=H[0],w.selectionEnd=H[1]})}}return ae(()=>{const F=!!(n.counter||e.counter!==!1&&e.counter!=null),w=!!(F||n.details),[z,H]=fl(t),{modelValue:q,...$}=qe.filterProps(e),N=na(e);return a(qe,X({ref:A,modelValue:d.value,"onUpdate:modelValue":O=>d.value=O,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":m.value},e.class],style:e.style},z,$,{centerAffix:!m.value,focused:c.value}),{...n,default:O=>{let{id:T,isDisabled:B,isDirty:U,isReadonly:o,isValid:i}=O;return a(kt,X({ref:I,onMousedown:V,onClick:M,"onClick:clear":R,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:e.role},N,{id:T.value,active:f.value||U.value,dirty:U.value||e.dirty,disabled:B.value,focused:c.value,error:i.value===!1}),{...n,default:u=>{let{props:{class:p,...r}}=u;const h=ke(a("input",X({ref:k,value:d.value,onInput:K,autofocus:e.autofocus,readonly:o.value,disabled:B.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:S,onBlur:l},r,H),null),[[ct("intersect"),{handler:g},null,{once:!0}]]);return a(Q,null,[e.prefix&&a("span",{class:"v-text-field__prefix"},[a("span",{class:"v-text-field__prefix__text"},[e.prefix])]),n.default?a("div",{class:p,"data-no-activator":""},[n.default(),h]):ml(h,{class:p}),e.suffix&&a("span",{class:"v-text-field__suffix"},[a("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:w?O=>{var T;return a(Q,null,[(T=n.details)==null?void 0:T.call(n,O),F&&a(Q,null,[a("span",null,null),a(ta,{active:e.persistentCounter||c.value,value:x.value,max:C.value},n.counter)])])}:void 0})}),ze({},A,I,k)}}),ia=Z({renderless:Boolean,...ce()},"VVirtualScrollItem"),sa=le()({name:"VVirtualScrollItem",inheritAttrs:!1,props:ia(),emits:{"update:height":e=>!0},setup(e,y){let{attrs:t,emit:v,slots:n}=y;const{resizeRef:d,contentRect:c}=Pe(void 0,"border");te(()=>{var s;return(s=c.value)==null?void 0:s.height},s=>{s!=null&&v("update:height",s)}),ae(()=>{var s,l;return e.renderless?a(Q,null,[(s=n.default)==null?void 0:s.call(n,{itemRef:d})]):a("div",X({ref:d,class:["v-virtual-scroll__item",e.class],style:e.style},t),[(l=n.default)==null?void 0:l.call(n)])})}}),ua=-1,ra=1,Te=100,ca=Z({itemHeight:{type:[Number,String],default:null},height:[Number,String]},"virtual");function da(e,y){const t=nt(),v=Y(0);Ge(()=>{v.value=parseFloat(e.itemHeight||0)});const n=Y(0),d=Y(Math.ceil((parseInt(e.height)||t.height.value)/(v.value||16))||1),c=Y(0),s=Y(0),l=W(),x=W();let C=0;const{resizeRef:m,contentRect:g}=Pe();Ge(()=>{m.value=l.value});const A=L(()=>{var u;return l.value===document.documentElement?t.height.value:((u=g.value)==null?void 0:u.height)||parseInt(e.height)||0}),I=L(()=>!!(l.value&&x.value&&A.value&&v.value));let k=Array.from({length:y.value.length}),f=Array.from({length:y.value.length});const S=Y(0);let V=-1;function M(u){return k[u]||v.value}const R=hl(()=>{const u=performance.now();f[0]=0;const p=y.value.length;for(let r=1;r<=p-1;r++)f[r]=(f[r-1]||0)+M(r-1);S.value=Math.max(S.value,performance.now()-u)},S),K=te(I,u=>{u&&(K(),C=x.value.offsetTop,R.immediate(),B(),~V&&Se(()=>{Re&&window.requestAnimationFrame(()=>{o(V),V=-1})}))});yt(()=>{R.clear()});function F(u,p){const r=k[u],h=v.value;v.value=h?Math.min(v.value,p):p,(r!==p||h!==v.value)&&(k[u]=p,R())}function w(u){return u=Ie(u,0,y.value.length-1),f[u]||0}function z(u){return va(f,u)}let H=0,q=0,$=0;te(A,(u,p)=>{p&&(B(),u<p&&requestAnimationFrame(()=>{q=0,B()}))});function N(){if(!l.value||!x.value)return;const u=l.value.scrollTop,p=performance.now();p-$>500?(q=Math.sign(u-H),C=x.value.offsetTop):q=u-H,H=u,$=p,B()}function O(){!l.value||!x.value||(q=0,$=0,B())}let T=-1;function B(){cancelAnimationFrame(T),T=requestAnimationFrame(U)}function U(){if(!l.value||!A.value)return;const u=H-C,p=Math.sign(q),r=Math.max(0,u-Te),h=Ie(z(r),0,y.value.length),b=u+A.value+Te,P=Ie(z(b)+1,h+1,y.value.length);if((p!==ua||h<n.value)&&(p!==ra||P>d.value)){const D=w(n.value)-w(h),E=w(P)-w(d.value);Math.max(D,E)>Te?(n.value=h,d.value=P):(h<=0&&(n.value=h),P>=y.value.length&&(d.value=P))}c.value=w(n.value),s.value=w(y.value.length)-w(d.value)}function o(u){const p=w(u);!l.value||u&&!p?V=u:l.value.scrollTop=p}const i=L(()=>y.value.slice(n.value,d.value).map((u,p)=>({raw:u,index:p+n.value})));return te(y,()=>{k=Array.from({length:y.value.length}),f=Array.from({length:y.value.length}),R.immediate(),B()},{deep:!0}),{containerRef:l,markerRef:x,computedItems:i,paddingTop:c,paddingBottom:s,scrollToIndex:o,handleScroll:N,handleScrollend:O,handleItemResize:F}}function va(e,y){let t=e.length-1,v=0,n=0,d=null,c=-1;if(e[t]<y)return t;for(;v<=t;)if(n=v+t>>1,d=e[n],d>y)t=n-1;else if(d<y)c=n,v=n+1;else return d===y?n:v;return c}const fa=Z({items:{type:Array,default:()=>[]},renderless:Boolean,...ca(),...ce(),...yl()},"VVirtualScroll"),ma=le()({name:"VVirtualScroll",props:fa(),setup(e,y){let{slots:t}=y;const v=pl("VVirtualScroll"),{dimensionStyles:n}=bl(e),{containerRef:d,markerRef:c,handleScroll:s,handleScrollend:l,handleItemResize:x,scrollToIndex:C,paddingTop:m,paddingBottom:g,computedItems:A}=da(e,ve(e,"items"));return xl(()=>e.renderless,()=>{function I(){var S,V;const f=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";d.value===document.documentElement?(document[f]("scroll",s,{passive:!0}),document[f]("scrollend",l)):((S=d.value)==null||S[f]("scroll",s,{passive:!0}),(V=d.value)==null||V[f]("scrollend",l))}kl(()=>{d.value=Sl(v.vnode.el,!0),I(!0)}),yt(I)}),ae(()=>{const I=A.value.map(k=>a(sa,{key:k.index,renderless:e.renderless,"onUpdate:height":f=>x(k.index,f)},{default:f=>{var S;return(S=t.default)==null?void 0:S.call(t,{item:k.raw,index:k.index,...f})}}));return e.renderless?a(Q,null,[a("div",{ref:c,class:"v-virtual-scroll__spacer",style:{paddingTop:ye(m.value)}},null),I,a("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:ye(g.value)}},null)]):a("div",{ref:d,class:["v-virtual-scroll",e.class],onScrollPassive:s,onScrollend:l,style:[n.value,e.style]},[a("div",{ref:c,class:"v-virtual-scroll__container",style:{paddingTop:ye(m.value),paddingBottom:ye(g.value)}},[I])])}),{scrollToIndex:C}}});function ga(e,y){const t=Y(!1);let v;function n(s){cancelAnimationFrame(v),t.value=!0,v=requestAnimationFrame(()=>{v=requestAnimationFrame(()=>{t.value=!1})})}async function d(){await new Promise(s=>requestAnimationFrame(s)),await new Promise(s=>requestAnimationFrame(s)),await new Promise(s=>requestAnimationFrame(s)),await new Promise(s=>{if(t.value){const l=te(t,()=>{l(),s()})}else s()})}async function c(s){var C,m;if(s.key==="Tab"&&((C=y.value)==null||C.focus()),!["PageDown","PageUp","Home","End"].includes(s.key))return;const l=(m=e.value)==null?void 0:m.$el;if(!l)return;(s.key==="Home"||s.key==="End")&&l.scrollTo({top:s.key==="Home"?0:l.scrollHeight,behavior:"smooth"}),await d();const x=l.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(s.key==="PageDown"||s.key==="Home"){const g=l.getBoundingClientRect().top;for(const A of x)if(A.getBoundingClientRect().top>=g){A.focus();break}}else{const g=l.getBoundingClientRect().bottom;for(const A of[...x].reverse())if(A.getBoundingClientRect().bottom<=g){A.focus();break}}}return{onListScroll:n,onListKeydown:c}}const ha=Z({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:se,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,...jl({itemChildren:!1})},"Select"),ya=Z({...ha(),...vt(St({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...gt({transition:{component:ft}})},"VSelect"),pa=le()({name:"VSelect",props:ya(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,y){let{slots:t}=y;const{t:v}=ut(),n=W(),d=W(),c=W(),s=xe(e,"menu"),l=L({get:()=>s.value,set:i=>{var u;s.value&&!i&&((u=d.value)!=null&&u.ΨopenChildren)||(s.value=i)}}),{items:x,transformIn:C,transformOut:m}=Hl(e),g=xe(e,"modelValue",[],i=>C(i===null?[null]:Cl(i)),i=>{const u=m(i);return e.multiple?u:u[0]??null}),A=L(()=>typeof e.counterValue=="function"?e.counterValue(g.value):typeof e.counterValue=="number"?e.counterValue:g.value.length),I=Vl(),k=L(()=>g.value.map(i=>i.value)),f=Y(!1),S=L(()=>l.value?e.closeText:e.openText);let V="",M;const R=L(()=>e.hideSelected?x.value.filter(i=>!g.value.some(u=>u===i)):x.value),K=L(()=>e.hideNoData&&!R.value.length||e.readonly||(I==null?void 0:I.isReadonly.value)),F=L(()=>{var i;return{...e.menuProps,activatorProps:{...((i=e.menuProps)==null?void 0:i.activatorProps)||{},"aria-haspopup":"listbox"}}}),w=W(),{onListScroll:z,onListKeydown:H}=ga(w,n);function q(i){e.openOnClear&&(l.value=!0)}function $(){K.value||(l.value=!l.value)}function N(i){var b,P;if(!i.key||e.readonly||I!=null&&I.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(i.key)&&i.preventDefault(),["Enter","ArrowDown"," "].includes(i.key)&&(l.value=!0),["Escape","Tab"].includes(i.key)&&(l.value=!1),i.key==="Home"?(b=w.value)==null||b.focus("first"):i.key==="End"&&((P=w.value)==null||P.focus("last"));const u=1e3;function p(D){const E=D.key.length===1,_=!D.ctrlKey&&!D.metaKey&&!D.altKey;return E&&_}if(e.multiple||!p(i))return;const r=performance.now();r-M>u&&(V=""),V+=i.key.toLowerCase(),M=r;const h=x.value.find(D=>D.title.toLowerCase().startsWith(V));h!==void 0&&(g.value=[h])}function O(i){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!i.props.disabled)if(e.multiple){const p=g.value.findIndex(h=>e.valueComparator(h.value,i.value)),r=u??!~p;if(~p){const h=r?[...g.value,i]:[...g.value];h.splice(p,1),g.value=h}else r&&(g.value=[...g.value,i])}else{const p=u!==!1;g.value=p?[i]:[],Se(()=>{l.value=!1})}}function T(i){var u;(u=w.value)!=null&&u.$el.contains(i.relatedTarget)||(l.value=!1)}function B(){var i;f.value&&((i=n.value)==null||i.focus())}function U(i){f.value=!0}function o(i){if(i==null)g.value=[];else if(We(n.value,":autofill")||We(n.value,":-webkit-autofill")){const u=x.value.find(p=>p.title===i);u&&O(u)}else n.value&&(n.value.value="")}return te(l,()=>{if(!e.hideSelected&&l.value&&g.value.length){const i=R.value.findIndex(u=>g.value.some(p=>e.valueComparator(p.value,u.value)));Re&&window.requestAnimationFrame(()=>{var u;i>=0&&((u=c.value)==null||u.scrollToIndex(i))})}}),te(()=>e.items,i=>{!f.value||!i.length||l.value||(l.value=!0)}),ae(()=>{const i=!!(e.chips||t.chip),u=!!(!e.hideNoData||R.value.length||t["prepend-item"]||t["append-item"]||t["no-data"]),p=g.value.length>0,r=et.filterProps(e),h=p||!f.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return a(et,X({ref:n},r,{modelValue:g.value.map(b=>b.props.value).join(", "),"onUpdate:modelValue":o,focused:f.value,"onUpdate:focused":b=>f.value=b,validationValue:g.externalValue,counterValue:A.value,dirty:p,class:["v-select",{"v-select--active-menu":l.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":g.value.length,"v-select--selection-slot":!!t.selection},e.class],style:e.style,inputmode:"none",placeholder:h,"onClick:clear":q,"onMousedown:control":$,onBlur:T,onKeydown:N,"aria-label":v(S.value),title:v(S.value)}),{...t,default:()=>a(Q,null,[a(Ql,X({ref:d,modelValue:l.value,"onUpdate:modelValue":b=>l.value=b,activator:"parent",contentClass:"v-select__content",disabled:K.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterLeave:B},F.value),{default:()=>[u&&a(Nl,X({ref:w,selected:k.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:b=>b.preventDefault(),onKeydown:H,onFocusin:U,onScrollPassive:z,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},e.listProps),{default:()=>{var b,P,D;return[(b=t["prepend-item"])==null?void 0:b.call(t),!R.value.length&&!e.hideNoData&&(((P=t["no-data"])==null?void 0:P.call(t))??a(Ye,{title:v(e.noDataText)},null)),a(ma,{ref:c,renderless:!0,items:R.value},{default:E=>{var ue;let{item:_,index:G,itemRef:J}=E;const ne=X(_.props,{ref:J,key:G,onClick:()=>O(_,null)});return((ue=t.item)==null?void 0:ue.call(t,{item:_,index:G,props:ne}))??a(Ye,X(ne,{role:"option"}),{prepend:de=>{let{isSelected:me}=de;return a(Q,null,[e.multiple&&!e.hideSelected?a(wl,{key:_.value,modelValue:me,ripple:!1,tabindex:"-1"},null):void 0,_.props.prependAvatar&&a(Be,{image:_.props.prependAvatar},null),_.props.prependIcon&&a(re,{icon:_.props.prependIcon},null)])}})}}),(D=t["append-item"])==null?void 0:D.call(t)]}})]}),g.value.map((b,P)=>{function D(J){J.stopPropagation(),J.preventDefault(),O(b,!1)}const E={"onClick:close":D,onMousedown(J){J.preventDefault(),J.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},_=i?!!t.chip:!!t.selection,G=_?Il(i?t.chip({item:b,index:P,props:E}):t.selection({item:b,index:P})):void 0;if(!(_&&!G))return a("div",{key:b.value,class:"v-select__selection"},[i?t.chip?a(fe,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:b.title}}},{default:()=>[G]}):a(Jl,X({key:"chip",closable:e.closableChips,size:"small",text:b.title,disabled:b.props.disabled},E),null):G??a("span",{class:"v-select__selection-text"},[b.title,e.multiple&&P<g.value.length-1&&a("span",{class:"v-select__selection-comma"},[pe(",")])])])})]),"append-inner":function(){var E;for(var b=arguments.length,P=new Array(b),D=0;D<b;D++)P[D]=arguments[D];return a(Q,null,[(E=t["append-inner"])==null?void 0:E.call(t,...P),e.menuIcon?a(re,{class:"v-select__menu-icon",icon:e.menuIcon},null):void 0])}})}),ze({isFocused:f,menu:l,select:O},n)}});function tt(e,y){e.updateMatrixWorld();let t=e.geometry.getAttribute("position"),v=e.geometry.index;if(!v){v=new $l(new Uint16Array(t.count),1);for(let c=0;c<t.count;c++)v.array[c]=c}let n=new ee,d=[];for(let c=0;c<v.count;c++){let s=v.array[c],l=new ee(t.getX(s),t.getY(s),t.getZ(s));l=y.target.worldToLocal(e.localToWorld(l)),n.add(l),d.push(l)}return n=n.divideScalar(v.count),console.log("center",n),{center:n,vertices:d}}function ba(e,y,t){let{center:v,vertices:n}=tt(e,t),{center:d,vertices:c}=tt(y,t),s=1/0,l=[new ee,new ee],x=-1/0,C=[new ee,new ee];for(let m=0;m<n.length;m++)for(let g=0;g<c.length;g++){let A=n[m].distanceTo(c[g]);A<s&&(s=A,l[0]=n[m],l[1]=c[g]),A>x&&(x=A,C[0]=n[m],C[1]=c[g])}return{min:l,center:[v,d],max:C}}const xa={class:"select-parent"},ka=Pl({__name:"Selection",props:Xe({viewer:{}},{modelValue:{default:[]},modelModifiers:{}}),emits:Xe(["findModel"],["update:modelValue"]),setup(e,{emit:y}){let t=e,v=y,{setDisableTap:n}=De("disableTap"),d=W(!1),c=_l(e,"modelValue"),s=W([!1,!1]),l=W(!1),x=W(!0),C=null,m=W("Any (S)");const g=new Kl;let A=o=>{C=[o.clientX,o.clientY],d.value},I=o=>{var h;if(C){let[b,P]=C;if(C=null,Math.abs(o.clientX-b)>5||Math.abs(o.clientY-P)>5)return}if(!d.value)return;m.value==="Any (S)"?(g.params.Line.threshold=.2,g.params.Points.threshold=.8):m.value==="(E)dges"?(g.params.Line.threshold=.8,g.params.Points.threshold=0):m.value==="(V)ertices"?(g.params.Line.threshold=0,g.params.Points.threshold=.8):m.value==="(F)aces"&&(g.params.Line.threshold=0,g.params.Points.threshold=0);let i=(h=t.viewer)==null?void 0:h.scene;const u=i.getNDC(o.clientX,o.clientY);g.setFromCamera(u,i.camera),i.camera.isPerspectiveCamera||g.ray.direction.copy(i.camera.getWorldDirection(new ee));let r=g.intersectObject(i,!0).find(b=>{if(!b.object)return!1;const P=b.object.type;let D=P==="Mesh"||P==="SkinnedMesh",E=P==="Line"||P==="LineSegments",_=P==="Points";const G=m.value==="Any (S)"||D&&m.value==="(F)aces"||E&&m.value==="(E)dges"||_&&m.value==="(V)ertices";return b.object.visible&&!b.object.userData.noHit&&G});s.value[0]?r&&(v("findModel",r.object.userData[Ol]),M()):(r?c.value.find(P=>{var D;return P.object.name===((D=r==null?void 0:r.object)==null?void 0:D.name)})!==void 0?f(r):k(r):S(),O(),U()),i.queueRender()};function k(o){console.log("Selecting",o.object.name),c.value.find(i=>i.object.name===o.object.name)===void 0&&c.value.push(o),o.object.material.__prevBaseColorFactor=[o.object.material.color.r,o.object.material.color.g,o.object.material.color.b],o.object.material.color.r=1,o.object.material.color.g=0,o.object.material.color.b=0}function f(o,i=!0){if(console.log("Deselecting",o.object.name),i){let u=c.value.findIndex(p=>p.object.name===o.object.name);c.value.splice(u,1)}o.object.material.__prevBaseColorFactor&&(o.object.material.color.r=o.object.material.__prevBaseColorFactor[0],o.object.material.color.g=o.object.material.__prevBaseColorFactor[1],o.object.material.color.b=o.object.material.__prevBaseColorFactor[2],delete o.object.material.__prevBaseColorFactor)}function S(o=!0){let i=c.value.slice();for(let u of i)f(u,o)}function V(){var i;(i=t.viewer)!=null&&i.elem&&(d.value=!d.value,n(d.value))}function M(){s.value=[!s.value[0],s.value[0]?s.value[1]:d.value],s.value[0]?d.value||V():(d.value!==s.value[1]&&V(),s.value=[!1,!1])}function R(){l.value=!l.value,O()}let K=!0,F=!1,w=!1,z=0,H=()=>{if(z=performance.now(),w)return;w=!0;let o;o=()=>{performance.now()-z>250?(O(),w=!1):setTimeout(o,100)},setTimeout(o,100)},q=o=>{o&&o.onElemReady(i=>{F||(F=!0,i.addEventListener("mouseup",I),i.addEventListener("mousedown",A),i.addEventListener("load",()=>{K?(R(),K=!1):O()}),i.addEventListener("camera-change",H))})};t.viewer?q(t.viewer):te(()=>t.viewer,()=>q(t.viewer));let{sceneDocument:$}=De("sceneDocument"),N={};function O(){var r,h,b,P,D;if(!l.value){for(let E of Object.values(N))(r=t.viewer)==null||r.removeLine3D(E);N={};return}let o,i=Object.keys(N);if(c.value.length>0){o=new ql;for(let E of c.value)o.expandByObject(E.object);o.applyMatrix4(new Ul().makeTranslation((h=t.viewer)==null?void 0:h.scene.getTarget()))}else o=Ml.getBoundingBox($.value);let u=[[o.min.x,o.min.y,o.min.z],[o.min.x,o.min.y,o.max.z],[o.min.x,o.max.y,o.min.z],[o.min.x,o.max.y,o.max.z],[o.max.x,o.min.y,o.min.z],[o.max.x,o.min.y,o.max.z],[o.max.x,o.max.y,o.min.z],[o.max.x,o.max.y,o.max.z]],p=[[[0,4],[1,5],[2,6],[3,7]],[[0,2],[1,3],[4,6],[5,7]],[[0,1],[2,3],[4,5],[6,7]]];for(let E in p){let _=p[E],G=_[0];for(let oe=0;oe<2;oe++){G=_[0];let je=1/0,Ct=(b=t.viewer)==null?void 0:b.scene.camera.position;for(let ge of _){let Vt=new ee(...u[ge[0]]),wt=new ee(...u[ge[1]]),It=Vt.clone().add(wt).multiplyScalar(.5),He=Ct.distanceTo(It);He<je&&(G=ge,je=He)}_=_.filter(ge=>ge!==G)}let J=new ee(...u[G[0]]),ne=new ee(...u[G[1]]),ue=[Ae.x,Ae.y,Ae.z][E][1],de=JSON.stringify([J,ne]);if(N[de])i=i.filter(oe=>oe!==de);else{let oe=(P=t.viewer)==null?void 0:P.addLine3D(J,ne,ne.clone().sub(J).length().toFixed(1)+"mm",{stroke:"rgb("+ue.join(",")+")","stroke-width":"2"});oe&&(N[de]=oe)}}for(let E of i)(D=t.viewer)!=null&&D.removeLine3D(N[E])&&delete N[E]}function T(){x.value=!x.value,U()}let B={};function U(){var P,D,E;if(!x.value||c.value.length!=2){for(let _ of Object.values(B))(P=t.viewer)==null||P.removeLine3D(_);B={};return}let o=Object.keys(B);function i(_,G,J,ne){var me;console.log("ensureLine",_,G,J,ne);let ue=JSON.stringify([_,G]);B[ue]?o=o.filter(oe=>oe!==ue):B[ue]=(me=t.viewer)==null?void 0:me.addLine3D(_,G,J,{stroke:ne,"stroke-width":"2","stroke-dasharray":"5"})}let u=c.value[0].object,p=c.value[1].object,{min:r,center:h,max:b}=ba(u,p,(D=t.viewer)==null?void 0:D.scene);i(b[0],b[1],b[1].distanceTo(b[0]).toFixed(1)+"mm","orange"),i(h[0],h[1],h[1].distanceTo(h[0]).toFixed(1)+"mm","green"),i(r[0],r[1],r[1].distanceTo(r[0]).toFixed(1)+"mm","cyan");for(let _ of o)(E=t.viewer)==null||E.removeLine3D(B[_]),delete B[_]}return window.addEventListener("keydown",o=>{o.key==="s"?m.value=="Any (S)"?V():(m.value="Any (S)",d.value||V()):o.key==="f"?m.value=="(F)aces"?V():(m.value="(F)aces",d.value||V()):o.key==="e"?m.value=="(E)dges"?V():(m.value="(E)dges",d.value||V()):o.key==="v"?m.value=="(V)ertices"?V():(m.value="(V)ertices",d.value||V()):o.key==="b"?R():o.key==="d"?T():o.key==="h"&&M()}),(o,i)=>(Al(),Tl(Q,null,[Ll("div",xa,[a(j(Ve),{icon:"",onClick:V,color:j(d)?"surface-light":""},{default:ie(()=>[a(j(he),{activator:"parent"},{default:ie(()=>[pe(_e(j(d)?"Disable (s)election mode":"Enable (s)election mode"),1)]),_:1}),a(j(Ce),{type:"mdi",path:j(Bl)},null,8,["path"])]),_:1},8,["color"]),a(j(he),{text:"Select only "+j(m).toString().toLocaleLowerCase(),"open-on-click":!1},{activator:ie(({props:u})=>[a(j(pa),X(u,{class:"select-only",variant:"underlined",items:["Any (S)","(F)aces","(E)dges","(V)ertices"],modelValue:j(m),"onUpdate:modelValue":i[0]||(i[0]=p=>Dl(m)?m.value=p:m=p)}),null,16,["items","modelValue"])]),_:1},8,["text"])]),a(j(Ve),{icon:"",onClick:M,color:j(s)[0]?"surface-light":""},{default:ie(()=>[a(j(he),{activator:"parent"},{default:ie(()=>[pe("(H)ighlight the next clicked element in the models list")]),_:1}),a(j(Ce),{type:"mdi",path:j(Fl)},null,8,["path"])]),_:1},8,["color"]),a(j(Ve),{icon:"",onClick:R,color:j(l)?"surface-light":""},{default:ie(()=>[a(j(he),{activator:"parent"},{default:ie(()=>[pe(_e(j(l)?"Hide selection (b)ounds":"Show selection (b)ounds"),1)]),_:1}),a(j(Ce),{type:"mdi",path:j(Rl)},null,8,["path"])]),_:1},8,["color"]),a(j(Ve),{icon:"",onClick:T,color:j(x)?"surface-light":""},{default:ie(()=>[a(j(he),{activator:"parent"},{default:ie(()=>[pe(_e(j(x)?"Hide selection (d)istances":"Show (d)istances (when a pair of features is selected)"),1)]),_:1}),a(j(Ce),{type:"mdi",path:j(El)},null,8,["path"])]),_:1},8,["color"])],64))}}),Va=zl(ka,[["__scopeId","data-v-673901ca"]]);export{Va as default};
