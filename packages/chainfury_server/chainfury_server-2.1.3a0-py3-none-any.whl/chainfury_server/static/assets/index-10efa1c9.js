const C={prompts:"#9CE0FC",llms:"#6344BE",chains:"#EA3852",agents:"#FF7496",tools:"#FF3434",memories:"#FF9135",advanced:"#000000",chat:"#454173",thought:"#272541",docloaders:"#FF9135",toolkits:"#DB2C2C",wrappers:"#E6277A",unknown:"#9CA3AF",models:"#9CE0FC",programatic_actions:"#6344BE",builtin_ai:"#EA3852",actions:"#FF9135"};function J(e){let s="";const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=n.length;let o=0;for(;o<e;)s+=n.charAt(Math.floor(Math.random()*a)),o+=1;return s}function _(e){try{let s=[...e].map((r,l)=>r==="`"?l:void 0).filter(r=>r!==void 0);s.length%2!==0&&console.log("Odd number of backticks");let n=[];for(let r=0;r<s.length;r+=2)n.push([s[r],s[r+1]]);let a="",o=0;for(let[r,l]of n)a+=e.slice(o,r)+e.slice(r,l).replace(/\n/g,"\\n")+e.slice(l,r),o=l;return a+=e.slice(o),a=a.replace(/`/g,'"'),console.log({new_x:a}),JSON.parse(a)}catch(s){return console.log(s),null}}const S=({nodes:e,edges:s})=>{var p,f,m,d,F,E;const n=JSON.parse(JSON.stringify(e)),a=JSON.parse(JSON.stringify(s));console.log("prev",{tempNodes:n,edges:s});let o={},r=null,l=null,h=[],u=[];for(let i in n){if(h.includes(n[i].id))continue;h.push(n[i].id);let t=n[i];const g=[];(m=(f=(p=t==null?void 0:t.data)==null?void 0:p.node)==null?void 0:f.fields)==null||m.forEach(c=>{c!=null&&c.password&&g.push(c==null?void 0:c.name)}),Object==null||Object.entries(((E=(F=(d=t==null?void 0:t.data)==null?void 0:d.node)==null?void 0:F.fn)==null?void 0:E.model_params)??{}).forEach(([c,N])=>{o[`${g.includes(c)&&!o[c]?"":(t==null?void 0:t.id)+"/"}${c}`]=N}),t.cf_data=t.data,delete t.data,u.push(t)}for(let i in s){let t=s[i];if((t==null?void 0:t.source)==="chatin"&&(r=(t==null?void 0:t.target)+"/"+(t==null?void 0:t.targetHandle)),(t==null?void 0:t.target)==="chatout"&&(l=(t==null?void 0:t.source)+"/"+(t==null?void 0:t.sourceHandle)),r&&l)break}return u=u.filter(i=>i.id!=="chatin"&&i.id!=="chatout"),console.log("prev",{restructuredNodes:u,edges:s}),{sample:o,edges:O({edges:a,nodeIds:h}),nodes:u,main_in:r??"",main_out:l??""}},O=({edges:e,nodeIds:s})=>e.filter(a=>s.includes(a.source)&&s.includes(a.target)&&a.source!=="chatin"&&a.target!=="chatout"),k=e=>{try{return JSON.parse(e)}catch{return e}};export{S as T,_ as c,J as m,C as n,k as s};
