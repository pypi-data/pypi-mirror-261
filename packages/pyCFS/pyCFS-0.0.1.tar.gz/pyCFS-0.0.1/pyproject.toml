[build-system]
requires = ["setuptools==68.2.2", 
            "setuptools-scm>=8.0",
            "wheel==0.41.2",
            "build==1.1.1"]
build-backend = "setuptools.build_meta"

[project]
name = "pyCFS"
version = "0.0.1"
readme = "README.md"
description = "Python library for automating and data handling tasks for openCFS."
license = {file = "LICENSE"}
authors = [
  {name = "IGTE", email = "igte.gitlab@gmail.com"},
  {name = "Eniz Mušeljić", email = "eniz.m@outlook.com"},
]

requires-python = ">=3.12"

dependencies = [
  "numpy==1.26.4",
  "matplotlib==3.8.3",
  "typing==3.7.4.3",
  "typed-argument-parser==1.9.0",
  "tqdm==4.66.2",
  "h5py==3.10.0"
]

keywords = [
    "automation",
    "simulation",
    "optimization",
    "opencfs",
    "data processing"]

classifiers = [
  "Development Status :: 4 - Beta",
  "Intended Audience :: Science/Research",
  "Topic :: Scientific/Engineering",
  "License :: OSI Approved :: MIT License",
  "Programming Language :: Python :: 3.12",
]

[project.urls]
Homepage = "https://www.tugraz.at/institute/igte/home/"
Documentation = "https://opencfs.gitlab.io/pycfs/"
Repository = "https://gitlab.com/openCFS/pycfs"
# Issues = ""
# Changelog = "https://github.com/me/spam/blob/master/CHANGELOG.md"

[project.scripts]
pycfs = "pyCFS.util.setup_generator:main"

[tool.pytest.ini_options]
addopts = "-v --cov=pyCFS --cov-report term --cov-report xml:coverage.xml"
testpaths = [
    "tests",
]

filterwarnings = [
    'ignore:.*ast.* is deprecated:DeprecationWarning'
]

[tool.mypy]
mypy_path = "pyCFS"

# plugins : 
plugins = "numpy.typing.mypy_plugin"

# rules : 
check_untyped_defs = true
disallow_any_generics = false
ignore_missing_imports = true
no_implicit_optional = true
show_error_codes = true
strict_equality = true
warn_redundant_casts = true
warn_return_any = false
warn_unused_configs = true
no_implicit_reexport = false
disallow_untyped_calls = true

# exclude templates dir : 
exclude = ["templates/*"]